(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Lf={exports:{}},Hl={};var Ny;function OE(){if(Ny)return Hl;Ny=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Hl.Fragment=e,Hl.jsx=i,Hl.jsxs=i,Hl}var Dy;function zE(){return Dy||(Dy=1,Lf.exports=OE()),Lf.exports}var A=zE(),kf={exports:{}},Tt={};var Vy;function jE(){if(Vy)return Tt;Vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function Y(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function ct(V,Q,nt){this.props=V,this.context=Q,this.refs=$,this.updater=nt||W}ct.prototype.isReactComponent={},ct.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},ct.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function dt(){}dt.prototype=ct.prototype;function gt(V,Q,nt){this.props=V,this.context=Q,this.refs=$,this.updater=nt||W}var vt=gt.prototype=new dt;vt.constructor=gt,F(vt,ct.prototype),vt.isPureReactComponent=!0;var ot=Array.isArray;function pt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(V,Q,nt){var st=nt.ref;return{$$typeof:r,type:V,key:Q,ref:st!==void 0?st:null,props:nt}}function M(V,Q){return w(V.type,Q,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function j(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return Q[nt]})}var R=/\/+/g;function te(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):Q.toString(36)}function fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pt,pt):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,Q,nt,st,_t){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var jt=!1;if(V===null)jt=!0;else switch(xt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(V.$$typeof){case r:case e:jt=!0;break;case b:return jt=V._init,H(jt(V._payload),Q,nt,st,_t)}}if(jt)return _t=_t(V),jt=st===""?"."+te(V,0):st,ot(_t)?(nt="",jt!=null&&(nt=jt.replace(R,"$&/")+"/"),H(_t,Q,nt,"",function(qa){return qa})):_t!=null&&(D(_t)&&(_t=M(_t,nt+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+jt)),Q.push(_t)),1;jt=0;var De=st===""?".":st+":";if(ot(V))for(var se=0;se<V.length;se++)st=V[se],xt=De+te(st,se),jt+=H(st,Q,nt,xt,_t);else if(se=Y(V),typeof se=="function")for(V=se.call(V),se=0;!(st=V.next()).done;)st=st.value,xt=De+te(st,se++),jt+=H(st,Q,nt,xt,_t);else if(xt==="object"){if(typeof V.then=="function")return H(fe(V),Q,nt,st,_t);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return jt}function et(V,Q,nt){if(V==null)return V;var st=[],_t=0;return H(V,st,"","",function(xt){return Q.call(nt,xt,_t++)}),st}function ut(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var Nt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Pt={map:et,forEach:function(V,Q,nt){et(V,function(){Q.apply(this,arguments)},nt)},count:function(V){var Q=0;return et(V,function(){Q++}),Q},toArray:function(V){return et(V,function(Q){return Q})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=x,Tt.Children=Pt,Tt.Component=ct,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=gt,Tt.StrictMode=s,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,Q,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=F({},V.props),_t=V.key;if(Q!=null)for(xt in Q.key!==void 0&&(_t=""+Q.key),Q)!S.call(Q,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&Q.ref===void 0||(st[xt]=Q[xt]);var xt=arguments.length-2;if(xt===1)st.children=nt;else if(1<xt){for(var jt=Array(xt),De=0;De<xt;De++)jt[De]=arguments[De+2];st.children=jt}return w(V.type,_t,st)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Tt.createElement=function(V,Q,nt){var st,_t={},xt=null;if(Q!=null)for(st in Q.key!==void 0&&(xt=""+Q.key),Q)S.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Q[st]);var jt=arguments.length-2;if(jt===1)_t.children=nt;else if(1<jt){for(var De=Array(jt),se=0;se<jt;se++)De[se]=arguments[se+2];_t.children=De}if(V&&V.defaultProps)for(st in jt=V.defaultProps,jt)_t[st]===void 0&&(_t[st]=jt[st]);return w(V,xt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:p,render:V}},Tt.isValidElement=D,Tt.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ut}},Tt.memo=function(V,Q){return{$$typeof:_,type:V,compare:Q===void 0?null:Q}},Tt.startTransition=function(V){var Q=C.T,nt={};C.T=nt;try{var st=V(),_t=C.S;_t!==null&&_t(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(pt,Nt)}catch(xt){Nt(xt)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),C.T=Q}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(V){return C.H.use(V)},Tt.useActionState=function(V,Q,nt){return C.H.useActionState(V,Q,nt)},Tt.useCallback=function(V,Q){return C.H.useCallback(V,Q)},Tt.useContext=function(V){return C.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,Q){return C.H.useDeferredValue(V,Q)},Tt.useEffect=function(V,Q){return C.H.useEffect(V,Q)},Tt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(V,Q,nt){return C.H.useImperativeHandle(V,Q,nt)},Tt.useInsertionEffect=function(V,Q){return C.H.useInsertionEffect(V,Q)},Tt.useLayoutEffect=function(V,Q){return C.H.useLayoutEffect(V,Q)},Tt.useMemo=function(V,Q){return C.H.useMemo(V,Q)},Tt.useOptimistic=function(V,Q){return C.H.useOptimistic(V,Q)},Tt.useReducer=function(V,Q,nt){return C.H.useReducer(V,Q,nt)},Tt.useRef=function(V){return C.H.useRef(V)},Tt.useState=function(V){return C.H.useState(V)},Tt.useSyncExternalStore=function(V,Q,nt){return C.H.useSyncExternalStore(V,Q,nt)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.4",Tt}var Iy;function xd(){return Iy||(Iy=1,kf.exports=jE()),kf.exports}var kt=xd(),Bf={exports:{}},Gl={},qf={exports:{}},Pf={};var My;function UE(){return My||(My=1,(function(r){function e(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var Nt=ut-1>>>1,Pt=H[Nt];if(0<o(Pt,et))H[Nt]=et,H[ut]=Pt,ut=Nt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var Nt=0,Pt=H.length,V=Pt>>>1;Nt<V;){var Q=2*(Nt+1)-1,nt=H[Q],st=Q+1,_t=H[st];if(0>o(nt,ut))st<Pt&&0>o(_t,nt)?(H[Nt]=_t,H[st]=ut,Nt=st):(H[Nt]=nt,H[Q]=ut,Nt=Q);else if(st<Pt&&0>o(_t,ut))H[Nt]=_t,H[st]=ut,Nt=st;else break t}}return et}function o(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,x=null,O=3,Y=!1,W=!1,F=!1,$=!1,ct=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function ot(H){if(F=!1,vt(H),!W)if(i(v)!==null)W=!0,pt||(pt=!0,j());else{var et=i(_);et!==null&&fe(ot,et.startTime-H)}}var pt=!1,C=-1,S=5,w=-1;function M(){return $?!0:!(r.unstable_now()-w<S)}function D(){if($=!1,pt){var H=r.unstable_now();w=H;var et=!0;try{t:{W=!1,F&&(F=!1,dt(C),C=-1),Y=!0;var ut=O;try{e:{for(vt(H),x=i(v);x!==null&&!(x.expirationTime>H&&M());){var Nt=x.callback;if(typeof Nt=="function"){x.callback=null,O=x.priorityLevel;var Pt=Nt(x.expirationTime<=H);if(H=r.unstable_now(),typeof Pt=="function"){x.callback=Pt,vt(H),et=!0;break e}x===i(v)&&s(v),vt(H)}else s(v);x=i(v)}if(x!==null)et=!0;else{var V=i(_);V!==null&&fe(ot,V.startTime-H),et=!1}}break t}finally{x=null,O=ut,Y=!1}et=void 0}}finally{et?j():pt=!1}}}var j;if(typeof gt=="function")j=function(){gt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=D,j=function(){te.postMessage(null)}}else j=function(){ct(D,0)};function fe(H,et){C=ct(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(H){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ut=O;O=et;try{return H()}finally{O=ut}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=O;O=H;try{return et()}finally{O=ut}},r.unstable_scheduleCallback=function(H,et,ut){var Nt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Nt+ut:Nt):ut=Nt,H){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ut+Pt,H={id:b++,callback:et,priorityLevel:H,startTime:ut,expirationTime:Pt,sortIndex:-1},ut>Nt?(H.sortIndex=ut,e(_,H),i(v)===null&&H===i(_)&&(F?(dt(C),C=-1):F=!0,fe(ot,ut-Nt))):(H.sortIndex=Pt,e(v,H),W||Y||(W=!0,pt||(pt=!0,j()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var et=O;return function(){var ut=O;O=et;try{return H.apply(this,arguments)}finally{O=ut}}}})(Pf)),Pf}var Oy;function LE(){return Oy||(Oy=1,qf.exports=UE()),qf.exports}var Hf={exports:{}},Ye={};var zy;function kE(){if(zy)return Ye;zy=1;var r=xd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,b)},Ye.flushSync=function(v){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=b,s.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,x=p(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:Y}):b==="script"&&s.d.X(v,{crossOrigin:x,integrity:O,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,x=p(b,_.crossOrigin);s.d.L(v,b,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ye.requestFormReset=function(v){s.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var jy;function BE(){if(jy)return Hf.exports;jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hf.exports=kE(),Hf.exports}var Uy;function qE(){if(Uy)return Gl;Uy=1;var r=LE(),e=xd(),i=BE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ct:return"Profiler";case $:return"StrictMode";case ot:return"Suspense";case pt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case gt:return t.displayName||"Context";case dt:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:te(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return te(t(n))}catch{}}return null}var fe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Nt=[],Pt=-1;function V(t){return{current:t}}function Q(t){0>Pt||(t.current=Nt[Pt],Nt[Pt]=null,Pt--)}function nt(t,n){Pt++,Nt[Pt]=t.current,t.current=n}var st=V(null),_t=V(null),xt=V(null),jt=V(null);function De(t,n){switch(nt(xt,n),nt(_t,t),nt(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$p(n),t=Wp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(st),nt(st,t)}function se(){Q(st),Q(_t),Q(xt)}function qa(t){t.memoizedState!==null&&nt(jt,t);var n=st.current,a=Wp(n,t.type);n!==a&&(nt(_t,t),nt(st,a))}function Cs(t){_t.current===t&&(Q(st),Q(_t)),jt.current===t&&(Q(jt),kl._currentValue=ut)}var Ns,Ds;function Zn(t){if(Ns===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",Ds=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Ds}var kr=!1;function Pa(t,n){if(!t||kr)return"";kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(P){var B=P}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(P){B=P}t.call(Z.prototype)}}else{try{throw Error()}catch(P){B=P}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),k=E.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===k.length)for(l=N.length-1,c=k.length-1;1<=l&&0<=c&&N[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==k[c]){var G=`
`+N[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{kr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zn(a):""}function Br(t,n){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return Zn("Activity");default:return""}}function qr(t){try{var n="",a=null;do n+=Br(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Yi=r.unstable_cancelCallback,kc=r.unstable_shouldYield,_o=r.unstable_requestPaint,Je=r.unstable_now,Ha=r.unstable_getCurrentPriorityLevel,Pr=r.unstable_ImmediatePriority,Hr=r.unstable_UserBlockingPriority,Ki=r.unstable_NormalPriority,Bc=r.unstable_LowPriority,vo=r.unstable_IdlePriority,Eo=r.log,To=r.unstable_setDisableYieldValue,jn=null,Le=null;function En(t){if(typeof Eo=="function"&&To(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(jn,t)}catch{}}var de=Math.clz32?Math.clz32:Ao,bo=Math.log,Vs=Math.LN2;function Ao(t){return t>>>=0,t===0?32:31-(bo(t)/Vs|0)|0}var Jn=256,Ga=262144,ve=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=$n(l):(g&=E,g!==0?c=$n(g):a||(a=E&~t,a!==0&&(c=$n(a))))):(E=l&~f,E!==0?c=$n(E):g!==0?c=$n(g):a||(a=l&~t,a!==0&&(c=$n(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function ti(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Fa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-de(a),Z=1<<G;E[G]=0,N[G]=-1;var B=k[G];if(B!==null)for(k[G]=null,G=0;G<B.length;G++){var P=B[G];P!==null&&(P.lane&=-536870913)}a&=~Z}l!==0&&Qa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Qa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Gr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-de(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Fr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ya(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Si(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:by(t.type))}function Ln(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var kn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+kn,Oe="__reactProps$"+kn,ei="__reactContainer$"+kn,Is="__reactEvents$"+kn,Hc="__reactListeners$"+kn,wo="__reactHandles$"+kn,Ro="__reactResources$"+kn,ni="__reactMarker$"+kn;function Ms(t){delete t[Ee],delete t[Oe],delete t[Is],delete t[Hc],delete t[wo]}function ii(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ei]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ry(t);t!==null;){if(a=t[Ee])return a;t=ry(t)}return n}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[Ee]||t[ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ai(t){var n=t[Ro];return n||(n=t[Ro]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(t){t[ni]=!0}var Qr=new Set,Yr={};function si(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(Yr[t]=n,t=0;t<n.length;t++)Qr.add(n[t])}var Kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xr={},Zr={};function Co(t){return _e.call(Zr,t)?!0:_e.call(Xr,t)?!1:Kr.test(t)?Zr[t]=!0:(Xr[t]=!0,!1)}function Os(t,n,a){if(Co(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function be(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=Xi(t)?"checked":"value";t._valueTracker=Jr(t,n,""+t[n])}}function Ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Xi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xa=/[\n"\\]/g;function tn(t){return t.replace(Xa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zs(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?$r(t,g,ze(n)):a!=null?$r(t,g,ze(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ze(E):t.removeAttribute("name")}function No(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qt(t)}function $r(t,n,a){n==="number"&&li(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Zi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Do(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function Ji(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qt(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Vo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function tl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Wr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Wr(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(t){return $i.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var el=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,oi=null;function Za(t){var n=Tn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(zs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));zs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ka(l)}break t;case"textarea":Do(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zi(t,!!a.multiple,n,!1)}}}var Ls=!1;function ta(t,n,a){if(Ls)return t(n,a);Ls=!0;try{var l=t(n);return l}finally{if(Ls=!1,(Wi!==null||oi!==null)&&(xu(),Wi&&(n=Wi,t=oi,oi=Wi=null,Za(n),t)))for(n=0;n<t.length;n++)Za(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(An)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Ja=!1}var ui=null,nl=null,$a=null;function il(){if($a)return $a;var t,n=nl,a=n.length,l,c="value"in ui?ui.value:ui.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return $a=c.slice(t,1<l?1-l:void 0)}function Wa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Pn(){return!1}function ke(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Pn,this.isPropagationStopped=Pn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ke(wi),ea=x({},wi,{view:0,detail:0}),al=ke(ea),na,ks,hi,Bs=x({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(na=t.screenX-hi.screenX,ks=t.screenY-hi.screenY):ks=na=0,hi=t),na)},movementY:function(t){return"movementY"in t?t.movementY:ks}}),sl=ke(Bs),ts=x({},Bs,{dataTransfer:0}),Mo=ke(ts),Oo=x({},ea,{relatedTarget:0}),es=ke(Oo),rl=x({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=ke(rl),qs=x({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jo=ke(qs),Uo=x({},wi,{data:0}),fi=ke(Uo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function ia(){return qo}var $e=x({},ea,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Po=ke($e),Ho=x({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=ke(Ho),u=x({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),m=ke(u),y=x({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(y),U=x({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ke(U),tt=x({},wi,{newState:0,oldState:0}),At=ke(tt),me=[9,13,27,32],Ht=An&&"CompositionEvent"in window,re=null;An&&"documentMode"in document&&(re=document.documentMode);var Sn=An&&"TextEvent"in window&&!re,di=An&&(!Ht||re&&8<re&&11>=re),Hn=" ",Gn=!1;function ns(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ps(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function a1(t,n){switch(t){case"compositionend":return Ps(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return t=n.data,t===Hn&&Gn?null:t;default:return null}}function s1(t,n){if(Hs)return t==="compositionend"||!Ht&&ns(t,n)?(t=il(),$a=nl=ui=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var r1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!r1[t.type]:n==="textarea"}function cm(t,n,a,l){Wi?oi?oi.push(l):oi=[l]:Wi=l,n=Iu(n,"onChange"),0<n.length&&(a=new ci("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ll=null,ol=null;function l1(t){Qp(t,0)}function Go(t){var n=cn(t);if(Ka(n))return t}function hm(t,n){if(t==="change")return n}var fm=!1;if(An){var Gc;if(An){var Fc="oninput"in document;if(!Fc){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Fc=typeof dm.oninput=="function"}Gc=Fc}else Gc=!1;fm=Gc&&(!document.documentMode||9<document.documentMode)}function mm(){ll&&(ll.detachEvent("onpropertychange",gm),ol=ll=null)}function gm(t){if(t.propertyName==="value"&&Go(ol)){var n=[];cm(n,ol,t,bn(t)),ta(l1,n)}}function o1(t,n,a){t==="focusin"?(mm(),ll=n,ol=a,ll.attachEvent("onpropertychange",gm)):t==="focusout"&&mm()}function u1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Go(ol)}function c1(t,n){if(t==="click")return Go(n)}function h1(t,n){if(t==="input"||t==="change")return Go(n)}function f1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:f1;function ul(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!_e.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,n){var a=pm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=pm(a)}}function _m(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?_m(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=li(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=li(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var d1=An&&"documentMode"in document&&11>=document.documentMode,Gs=null,Yc=null,cl=null,Kc=!1;function Em(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kc||Gs==null||Gs!==li(l)||(l=Gs,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Iu(Yc,"onSelect"),0<l.length&&(n=new ci("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Gs)))}function is(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Fs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Xc={},Tm={};An&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function as(t){if(Xc[t])return Xc[t];if(!Fs[t])return t;var n=Fs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Tm)return Xc[t]=n[a];return t}var bm=as("animationend"),Am=as("animationiteration"),Sm=as("animationstart"),m1=as("transitionrun"),g1=as("transitionstart"),p1=as("transitioncancel"),xm=as("transitionend"),wm=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function Fn(t,n){wm.set(t,n),si(n,[t])}var Fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Qs=0,Jc=0;function Qo(){for(var t=Qs,n=Jc=Qs=0;n<t;){var a=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var c=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Rm(a,c,f)}}function Yo(t,n,a,l){xn[Qs++]=t,xn[Qs++]=n,xn[Qs++]=a,xn[Qs++]=l,Jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,a,l){return Yo(t,n,a,l),Ko(t)}function ss(t,n){return Yo(t,null,null,n),Ko(t)}function Rm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-de(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Ko(t){if(50<Il)throw Il=0,of=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ys={};function y1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new y1(t,n,a,l)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Wc(t)&&(g=1);else if(typeof t=="string")g=bE(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=dn(31,a,n,c),t.elementType=w,t.lanes=f,t;case F:return rs(a.children,c,f,n);case $:g=8,c|=24;break;case ct:return t=dn(12,a,n,c|2),t.elementType=ct,t.lanes=f,t;case ot:return t=dn(13,a,n,c),t.elementType=ot,t.lanes=f,t;case pt:return t=dn(19,a,n,c),t.elementType=pt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gt:g=10;break t;case dt:g=9;break t;case vt:g=11;break t;case C:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function rs(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function th(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function Nm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function eh(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=Dm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:qr(n)},Dm.set(t,n),n)}return{value:t,source:n,stack:qr(n)}}var Ks=[],Xs=0,Zo=null,hl=0,Rn=[],Cn=0,aa=null,mi=1,gi="";function Ni(t,n){Ks[Xs++]=hl,Ks[Xs++]=Zo,Zo=t,hl=n}function Vm(t,n,a){Rn[Cn++]=mi,Rn[Cn++]=gi,Rn[Cn++]=aa,aa=t;var l=mi;t=gi;var c=32-de(l)-1;l&=~(1<<c),a+=1;var f=32-de(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,mi=1<<32-de(n)+c|a<<c|l,gi=f+t}else mi=1<<f|a<<c|l,gi=t}function nh(t){t.return!==null&&(Ni(t,1),Vm(t,1,0))}function ih(t){for(;t===Zo;)Zo=Ks[--Xs],Ks[Xs]=null,hl=Ks[--Xs],Ks[Xs]=null;for(;t===aa;)aa=Rn[--Cn],Rn[Cn]=null,gi=Rn[--Cn],Rn[Cn]=null,mi=Rn[--Cn],Rn[Cn]=null}function Im(t,n){Rn[Cn++]=mi,Rn[Cn++]=gi,Rn[Cn++]=aa,mi=n.id,gi=n.overflow,aa=t}var Be=null,ne=null,Ot=!1,sa=null,Nn=!1,ah=Error(s(519));function ra(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(wn(n,t)),ah}function Mm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[Oe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ct(Ol[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),No(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ji(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Zp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||ra(t,!0)}function Om(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Be=Be.return}}function Zs(t){if(t!==Be)return!1;if(!Ot)return Om(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Af(t.type,t.memoizedProps)),a=!a),a&&ne&&ra(t),Om(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=sy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=sy(t)}else n===27?(n=ne,Ea(t.type)?(t=Cf,Cf=null,ne=t):ne=n):ne=Be?Vn(t.stateNode.nextSibling):null;return!0}function ls(){ne=Be=null,Ot=!1}function sh(){var t=sa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),sa=null),t}function fl(t){sa===null?sa=[t]:sa.push(t)}var rh=V(null),os=null,Di=null;function la(t,n,a){nt(rh,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=rh.current,Q(rh)}function lh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function oh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),lh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Js(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===jt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}c=c.return}t!==null&&oh(n,t,a,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function us(t){os=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return zm(os,t)}function $o(t,n){return os===null&&us(t),zm(t,n)}function zm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var _1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},v1=r.unstable_scheduleCallback,E1=r.unstable_NormalPriority,Ae={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new _1,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&v1(E1,function(){t.controller.abort()})}var ml=null,ch=0,$s=0,Ws=null;function T1(t,n){if(ml===null){var a=ml=[];ch=0,$s=mf(),Ws={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ch++,n.then(jm,jm),n}function jm(){if(--ch===0&&ml!==null){Ws!==null&&(Ws.status="fulfilled");var t=ml;ml=null,$s=0,Ws=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function b1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Um=H.S;H.S=function(t,n){Ep=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&T1(t,n),Um!==null&&Um(t,n)};var cs=V(null);function hh(){var t=cs.current;return t!==null?t:Wt.pooledCache}function Wo(t,n){n===null?nt(cs,cs.current):nt(cs,n.pool)}function Lm(){var t=hh();return t===null?null:{parent:Ae._currentValue,pool:t}}var tr=Error(s(460)),fh=Error(s(474)),tu=Error(s(542)),eu={then:function(){}};function km(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Pm(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Pm(t),t}throw fs=n,tr}}function hs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fs=a,tr):a}}var fs=null;function qm(){if(fs===null)throw Error(s(459));var t=fs;return fs=null,t}function Pm(t){if(t===tr||t===tu)throw Error(s(483))}var er=null,gl=0;function nu(t){var n=gl;return gl+=1,er===null&&(er=[]),Bm(er,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===O?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hm(t){function n(z,I){if(t){var L=z.deletions;L===null?(z.deletions=[I],z.flags|=16):L.push(I)}}function a(z,I){if(!t)return null;for(;I!==null;)n(z,I),I=I.sibling;return null}function l(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function c(z,I){return z=Ci(z,I),z.index=0,z.sibling=null,z}function f(z,I,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<I?(z.flags|=67108866,I):L):(z.flags|=67108866,I)):(z.flags|=1048576,I)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,I,L,K){return I===null||I.tag!==6?(I=th(L,z.mode,K),I.return=z,I):(I=c(I,L),I.return=z,I)}function N(z,I,L,K){var ht=L.type;return ht===F?G(z,I,L.props.children,K,L.key):I!==null&&(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&hs(ht)===I.type)?(I=c(I,L.props),pl(I,L),I.return=z,I):(I=Xo(L.type,L.key,L.props,null,z.mode,K),pl(I,L),I.return=z,I)}function k(z,I,L,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=eh(L,z.mode,K),I.return=z,I):(I=c(I,L.children||[]),I.return=z,I)}function G(z,I,L,K,ht){return I===null||I.tag!==7?(I=rs(L,z.mode,K,ht),I.return=z,I):(I=c(I,L),I.return=z,I)}function Z(z,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=th(""+I,z.mode,L),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Y:return L=Xo(I.type,I.key,I.props,null,z.mode,L),pl(L,I),L.return=z,L;case W:return I=eh(I,z.mode,L),I.return=z,I;case S:return I=hs(I),Z(z,I,L)}if(fe(I)||j(I))return I=rs(I,z.mode,L,null),I.return=z,I;if(typeof I.then=="function")return Z(z,nu(I),L);if(I.$$typeof===gt)return Z(z,$o(z,I),L);iu(z,I)}return null}function B(z,I,L,K){var ht=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(z,I,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ht?N(z,I,L,K):null;case W:return L.key===ht?k(z,I,L,K):null;case S:return L=hs(L),B(z,I,L,K)}if(fe(L)||j(L))return ht!==null?null:G(z,I,L,K,null);if(typeof L.then=="function")return B(z,I,nu(L),K);if(L.$$typeof===gt)return B(z,I,$o(z,L),K);iu(z,L)}return null}function P(z,I,L,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(L)||null,E(I,z,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return z=z.get(K.key===null?L:K.key)||null,N(I,z,K,ht);case W:return z=z.get(K.key===null?L:K.key)||null,k(I,z,K,ht);case S:return K=hs(K),P(z,I,L,K,ht)}if(fe(K)||j(K))return z=z.get(L)||null,G(I,z,K,ht,null);if(typeof K.then=="function")return P(z,I,L,nu(K),ht);if(K.$$typeof===gt)return P(z,I,L,$o(I,K),ht);iu(I,K)}return null}function rt(z,I,L,K){for(var ht=null,Bt=null,lt=I,wt=I=0,Vt=null;lt!==null&&wt<L.length;wt++){lt.index>wt?(Vt=lt,lt=null):Vt=lt.sibling;var qt=B(z,lt,L[wt],K);if(qt===null){lt===null&&(lt=Vt);break}t&&lt&&qt.alternate===null&&n(z,lt),I=f(qt,I,wt),Bt===null?ht=qt:Bt.sibling=qt,Bt=qt,lt=Vt}if(wt===L.length)return a(z,lt),Ot&&Ni(z,wt),ht;if(lt===null){for(;wt<L.length;wt++)lt=Z(z,L[wt],K),lt!==null&&(I=f(lt,I,wt),Bt===null?ht=lt:Bt.sibling=lt,Bt=lt);return Ot&&Ni(z,wt),ht}for(lt=l(lt);wt<L.length;wt++)Vt=P(lt,z,wt,L[wt],K),Vt!==null&&(t&&Vt.alternate!==null&&lt.delete(Vt.key===null?wt:Vt.key),I=f(Vt,I,wt),Bt===null?ht=Vt:Bt.sibling=Vt,Bt=Vt);return t&&lt.forEach(function(xa){return n(z,xa)}),Ot&&Ni(z,wt),ht}function mt(z,I,L,K){if(L==null)throw Error(s(151));for(var ht=null,Bt=null,lt=I,wt=I=0,Vt=null,qt=L.next();lt!==null&&!qt.done;wt++,qt=L.next()){lt.index>wt?(Vt=lt,lt=null):Vt=lt.sibling;var xa=B(z,lt,qt.value,K);if(xa===null){lt===null&&(lt=Vt);break}t&&lt&&xa.alternate===null&&n(z,lt),I=f(xa,I,wt),Bt===null?ht=xa:Bt.sibling=xa,Bt=xa,lt=Vt}if(qt.done)return a(z,lt),Ot&&Ni(z,wt),ht;if(lt===null){for(;!qt.done;wt++,qt=L.next())qt=Z(z,qt.value,K),qt!==null&&(I=f(qt,I,wt),Bt===null?ht=qt:Bt.sibling=qt,Bt=qt);return Ot&&Ni(z,wt),ht}for(lt=l(lt);!qt.done;wt++,qt=L.next())qt=P(lt,z,wt,qt.value,K),qt!==null&&(t&&qt.alternate!==null&&lt.delete(qt.key===null?wt:qt.key),I=f(qt,I,wt),Bt===null?ht=qt:Bt.sibling=qt,Bt=qt);return t&&lt.forEach(function(ME){return n(z,ME)}),Ot&&Ni(z,wt),ht}function $t(z,I,L,K){if(typeof L=="object"&&L!==null&&L.type===F&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ht=L.key;I!==null;){if(I.key===ht){if(ht=L.type,ht===F){if(I.tag===7){a(z,I.sibling),K=c(I,L.props.children),K.return=z,z=K;break t}}else if(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&hs(ht)===I.type){a(z,I.sibling),K=c(I,L.props),pl(K,L),K.return=z,z=K;break t}a(z,I);break}else n(z,I);I=I.sibling}L.type===F?(K=rs(L.props.children,z.mode,K,L.key),K.return=z,z=K):(K=Xo(L.type,L.key,L.props,null,z.mode,K),pl(K,L),K.return=z,z=K)}return g(z);case W:t:{for(ht=L.key;I!==null;){if(I.key===ht)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(z,I.sibling),K=c(I,L.children||[]),K.return=z,z=K;break t}else{a(z,I);break}else n(z,I);I=I.sibling}K=eh(L,z.mode,K),K.return=z,z=K}return g(z);case S:return L=hs(L),$t(z,I,L,K)}if(fe(L))return rt(z,I,L,K);if(j(L)){if(ht=j(L),typeof ht!="function")throw Error(s(150));return L=ht.call(L),mt(z,I,L,K)}if(typeof L.then=="function")return $t(z,I,nu(L),K);if(L.$$typeof===gt)return $t(z,I,$o(z,L),K);iu(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(z,I.sibling),K=c(I,L),K.return=z,z=K):(a(z,I),K=th(L,z.mode,K),K.return=z,z=K),g(z)):a(z,I)}return function(z,I,L,K){try{gl=0;var ht=$t(z,I,L,K);return er=null,ht}catch(lt){if(lt===tr||lt===tu)throw lt;var Bt=dn(29,lt,null,z.mode);return Bt.lanes=K,Bt.return=z,Bt}}}var ds=Hm(!0),Gm=Hm(!1),oa=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ko(t),Rm(t,null,a),n}return Yo(t,l,n,a),Ko(t)}function yl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gr(t,a)}}function gh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ph=!1;function _l(){if(ph){var t=Ws;if(t!==null)throw t}}function vl(t,n,a,l){ph=!1;var c=t.updateQueue;oa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,k=N.next;N.next=null,g===null?f=k:g.next=k,g=N;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=N))}if(f!==null){var Z=c.baseState;g=0,G=k=N=null,E=f;do{var B=E.lane&-536870913,P=B!==E.lane;if(P?(Dt&B)===B:(l&B)===B){B!==0&&B===$s&&(ph=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,mt=E;B=n;var $t=a;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){Z=rt.call($t,Z,B);break t}Z=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,B=typeof rt=="function"?rt.call($t,Z,B):rt,B==null)break t;Z=x({},Z,B);break t;case 2:oa=!0}}B=E.callback,B!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[B]:P.push(B))}else P={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=P,N=Z):G=G.next=P,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);G===null&&(N=Z),c.baseState=N,c.firstBaseUpdate=k,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ga|=g,t.lanes=g,t.memoizedState=Z}}function Fm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Qm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fm(a[t],n)}var nr=V(null),au=V(0);function Ym(t,n){t=Bi,nt(au,t),nt(nr,n),Bi=t|n.baseLanes}function yh(){nt(au,Bi),nt(nr,nr.current)}function _h(){Bi=au.current,Q(nr),Q(au)}var mn=V(null),Dn=null;function ha(t){var n=t.alternate;nt(ge,ge.current&1),nt(mn,t),Dn===null&&(n===null||nr.current!==null||n.memoizedState!==null)&&(Dn=t)}function vh(t){nt(ge,ge.current),nt(mn,t),Dn===null&&(Dn=t)}function Km(t){t.tag===22?(nt(ge,ge.current),nt(mn,t),Dn===null&&(Dn=t)):fa()}function fa(){nt(ge,ge.current),nt(mn,mn.current)}function gn(t){Q(mn),Dn===t&&(Dn=null),Q(ge)}var ge=V(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wf(a)||Rf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ii=0,St=null,Zt=null,Se=null,ru=!1,ir=!1,ms=!1,lu=0,El=0,ar=null,A1=0;function ue(){throw Error(s(321))}function Eh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function Th(t,n,a,l,c,f){return Ii=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Vg:jh,ms=!1,f=a(l,c),ms=!1,ir&&(f=Zm(n,a,l,c)),Xm(t),f}function Xm(t){H.H=Al;var n=Zt!==null&&Zt.next!==null;if(Ii=0,Se=Zt=St=null,ru=!1,El=0,ar=null,n)throw Error(s(300));t===null||xe||(t=t.dependencies,t!==null&&Jo(t)&&(xe=!0))}function Zm(t,n,a,l){St=t;var c=0;do{if(ir&&(ar=null),El=0,ir=!1,25<=c)throw Error(s(301));if(c+=1,Se=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Ig,f=n(a,l)}while(ir);return f}function S1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Tl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(St.flags|=1024),n}function bh(){var t=lu!==0;return lu=0,t}function Ah(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Ii=0,Se=Zt=St=null,ir=!1,El=lu=0,ar=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=t:Se=Se.next=t,Se}function pe(){if(Zt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Zt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?St.memoizedState=Se=t:Se=Se.next=t}return Se}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var n=El;return El+=1,ar===null&&(ar=[]),t=Bm(ar,t,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Vg:jh),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===gt)return qe(t)}throw Error(s(438,String(t)))}function xh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ou(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Mi(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=pe();return wh(n,Zt,t)}function wh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,N=null,k=n,G=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(Dt&Z)===Z:(Ii&Z)===Z){var B=k.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===$s&&(G=!0);else if((Ii&B)===B){k=k.next,B===$s&&(G=!0);continue}else Z={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(E=N=Z,g=f):N=N.next=Z,St.lanes|=B,ga|=B;Z=k.action,ms&&a(f,Z),f=k.hasEagerState?k.eagerState:a(f,Z)}else B={lane:Z,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(E=N=B,g=f):N=N.next=B,St.lanes|=Z,ga|=Z;k=k.next}while(k!==null&&k!==n);if(N===null?g=f:N.next=E,!fn(f,t.memoizedState)&&(xe=!0,G&&(a=Ws,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Jm(t,n,a){var l=St,c=pe(),f=Ot;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!fn((Zt||c).memoizedState,a);if(g&&(c.memoizedState=a,xe=!0),c=c.queue,Dh(tg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,sr(9,{destroy:void 0},Wm.bind(null,l,c,a,n),null),Wt===null)throw Error(s(349));f||(Ii&127)!==0||$m(l,n,a)}return a}function $m(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=ou(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Wm(t,n,a,l){n.value=a,n.getSnapshot=l,eg(n)&&ng(t)}function tg(t,n,a){return a(function(){eg(n)&&ng(t)})}function eg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function ng(t){var n=ss(t,2);n!==null&&ln(n,t,2)}function Ch(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),ms){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function ig(t,n,a,l){return t.baseState=a,wh(t,Zt,typeof l=="function"?l:Mi)}function x1(t,n,a,l,c){if(du(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,ag(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ag(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),N=H.S;N!==null&&N(g,E),sg(t,n,E)}catch(k){Nh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),sg(t,n,f)}catch(k){Nh(t,n,k)}}function sg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rg(t,n,l)},function(l){return Nh(t,n,l)}):rg(t,n,a)}function rg(t,n,a){n.status="fulfilled",n.value=a,lg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ag(t,a)))}function Nh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,lg(n),n=n.next;while(n!==l)}t.action=null}function lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function og(t,n){return n}function ug(t,n){if(Ot){var a=Wt.formState;if(a!==null){t:{var l=St;if(Ot){if(ne){e:{for(var c=ne,f=Nn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=Vn(c.nextSibling),l=c.data==="F!";break t}}ra(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},a.queue=l,a=Cg.bind(null,St,l),l.dispatch=a,l=Ch(!1),f=zh.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=x1.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function cg(t){var n=pe();return hg(n,Zt,t)}function hg(t,n,a){if(n=wh(t,n,og)[0],t=cu(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Tl(n)}catch(g){throw g===tr?tu:g}else l=n;n=pe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,sr(9,{destroy:void 0},w1.bind(null,c,a),null)),[l,f,t]}function w1(t,n){t.action=n}function fg(t){var n=pe(),a=Zt;if(a!==null)return hg(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function sr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=ou(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function dg(){return pe().memoizedState}function hu(t,n,a,l){var c=We();St.flags|=t,c.memoizedState=sr(1|n,{destroy:void 0},a,l===void 0?null:l)}function fu(t,n,a,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&Eh(l,Zt.memoizedState.deps)?c.memoizedState=sr(n,f,a,l):(St.flags|=t,c.memoizedState=sr(1|n,f,a,l))}function mg(t,n){hu(8390656,8,t,n)}function Dh(t,n){fu(2048,8,t,n)}function R1(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=ou(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function gg(t){var n=pe().memoizedState;return R1({ref:n,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function pg(t,n){return fu(4,2,t,n)}function yg(t,n){return fu(4,4,t,n)}function _g(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function vg(t,n,a){a=a!=null?a.concat([t]):null,fu(4,4,_g.bind(null,n,t),a)}function Vh(){}function Eg(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Eh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Tg(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Eh(n,l[1]))return l[0];if(l=t(),ms){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Ih(t,n,a){return a===void 0||(Ii&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=bp(),St.lanes|=t,ga|=t,a)}function bg(t,n,a,l){return fn(a,n)?a:nr.current!==null?(t=Ih(t,a,l),fn(t,n)||(xe=!0),t):(Ii&42)===0||(Ii&1073741824)!==0&&(Dt&261930)===0?(xe=!0,t.memoizedState=a):(t=bp(),St.lanes|=t,ga|=t,n)}function Ag(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,zh(t,!1,n,a);try{var N=c(),k=H.S;if(k!==null&&k(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=b1(N,l);bl(t,n,G,_n(t))}else bl(t,n,l,_n(t))}catch(Z){bl(t,n,{then:function(){},status:"rejected",reason:Z},_n())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function C1(){}function Mh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Sg(t).queue;Ag(t,c,n,ut,a===null?C1:function(){return xg(t),a(l)})}function Sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xg(t){var n=Sg(t);n.next===null&&(n=t.alternate.memoizedState),bl(t,n.next.queue,{},_n())}function Oh(){return qe(kl)}function wg(){return pe().memoizedState}function Rg(){return pe().memoizedState}function N1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ua(a);var l=ca(n,t,a);l!==null&&(ln(l,n,a),yl(l,n,a)),n={cache:uh()},t.payload=n;return}n=n.return}}function D1(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},du(t)?Ng(n,a):(a=$c(t,n,a,l),a!==null&&(ln(a,t,l),Dg(a,n,l)))}function Cg(t,n,a){var l=_n();bl(t,n,a,l)}function bl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(du(t))Ng(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Yo(t,n,c,0),Wt===null&&Qo(),!1}catch{}if(a=$c(t,n,c,l),a!==null)return ln(a,t,l),Dg(a,n,l),!0}return!1}function zh(t,n,a,l){if(l={lane:2,revertLane:mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(s(479))}else n=$c(t,a,l,2),n!==null&&ln(n,t,2)}function du(t){var n=t.alternate;return t===St||n!==null&&n===St}function Ng(t,n){ir=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Dg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gr(t,a)}}var Al={readContext:qe,use:uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Al.useEffectEvent=ue;var Vg={readContext:qe,use:uu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:mg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,hu(4194308,4,_g.bind(null,n,t),a)},useLayoutEffect:function(t,n){return hu(4194308,4,t,n)},useInsertionEffect:function(t,n){hu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(ms){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(ms){En(!0);try{a(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=D1.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,a=Cg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Vh,useDeferredValue:function(t,n){var a=We();return Ih(a,t,n)},useTransition:function(){var t=Ch(!1);return t=Ag.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=We();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Dt&127)!==0||$m(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,mg(tg.bind(null,l,f,t),[t]),l.flags|=2048,sr(9,{destroy:void 0},Wm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Wt.identifierPrefix;if(Ot){var a=gi,l=mi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=lu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=A1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Oh,useFormState:ug,useActionState:ug,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:xh,useCacheRefresh:function(){return We().memoizedState=N1.bind(null,St)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},jh={readContext:qe,use:uu,useCallback:Eg,useContext:qe,useEffect:Dh,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:yg,useMemo:Tg,useReducer:cu,useRef:dg,useState:function(){return cu(Mi)},useDebugValue:Vh,useDeferredValue:function(t,n){var a=pe();return bg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=cu(Mi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:Jm,useId:wg,useHostTransitionStatus:Oh,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var a=pe();return ig(a,Zt,t,n)},useMemoCache:xh,useCacheRefresh:Rg};jh.useEffectEvent=gg;var Ig={readContext:qe,use:uu,useCallback:Eg,useContext:qe,useEffect:Dh,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:yg,useMemo:Tg,useReducer:Rh,useRef:dg,useState:function(){return Rh(Mi)},useDebugValue:Vh,useDeferredValue:function(t,n){var a=pe();return Zt===null?Ih(a,t,n):bg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=Rh(Mi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:Jm,useId:wg,useHostTransitionStatus:Oh,useFormState:fg,useActionState:fg,useOptimistic:function(t,n){var a=pe();return Zt!==null?ig(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xh,useCacheRefresh:Rg};Ig.useEffectEvent=gg;function Uh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(ln(n,t,l),yl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(ln(n,t,l),yl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=ca(t,l,a),n!==null&&(ln(n,t,a),yl(n,t,a))}};function Mg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ul(a,l)||!ul(c,f):!0}function Og(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Lh.enqueueReplaceState(n,n.state,null)}function gs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function zg(t){Fo(t)}function jg(t){console.error(t)}function Ug(t){Fo(t)}function mu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function kh(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(t,n)},a}function kg(t){return t=ua(t),t.tag=3,t}function Bg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Lg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Lg(n,a,l),typeof c!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function V1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Js(n,a,c,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?wu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===eu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),hf(t,l,c)),!1;case 22:return a.flags|=65536,l===eu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),hf(t,l,c)),!1}throw Error(s(435,a.tag))}return hf(t,l,c),wu(),!1}if(Ot)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ah&&(t=Error(s(422),{cause:l}),fl(wn(t,a)))):(l!==ah&&(n=Error(s(423),{cause:l}),fl(wn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,a),c=kh(t.stateNode,l,c),gh(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=wn(f,a),Vl===null?Vl=[f]:Vl.push(f),ce!==4&&(ce=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=kh(a.stateNode,l,t),gh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pa===null||!pa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=kg(c),Bg(c,t,a,l),gh(a,c),!1}a=a.return}while(a!==null);return!1}var Bh=Error(s(461)),xe=!1;function Pe(t,n,a,l){n.child=t===null?Gm(n,null,a,l):ds(n,t.child,a,l)}function qg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return us(n),l=Th(t,n,a,g,f,c),E=bh(),t!==null&&!xe?(Ah(t,n,c),Oi(t,n,c)):(Ot&&E&&nh(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Pg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Wc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,l,c)):(t=Xo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(g,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===n.ref)if(xe=!1,n.pendingProps=l=f,Kh(t,c))(t.flags&131072)!==0&&(xe=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return qh(t,n,a,l,c)}function Gg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Fg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,f!==null?f.cachePool:null),f!==null?Ym(n,f):yh(),Km(n);else return l=n.lanes=536870912,Fg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Wo(n,f.cachePool),Ym(n,f),fa(),n.memoizedState=null):(t!==null&&Wo(n,null),yh(),fa());return Pe(t,n,c,a),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(t,n,a,l,c){var f=hh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Wo(n,null),yh(),Km(n),t!==null&&Js(t,n,l,!0),n.childLanes=c,null}function gu(t,n){return n=yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qg(t,n,a){return ds(n,t.child,null,a),t=gu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function I1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=gu(n,l),n.lanes=536870912,Sl(null,t);if(vh(n),(t=ne)?(t=ay(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=Nm(t),a.return=n,n.child=a,Be=n,ne=null)):t=null,t===null)throw ra(n);return n.lanes=536870912,null}return gu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vh(n),c)if(n.flags&256)n.flags&=-257,n=Qg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(xe||Js(t,n,a,!1),c=(a&t.childLanes)!==0,xe||c){if(l=Wt,l!==null&&(g=Fr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ss(t,g),ln(l,t,g),Bh;wu(),n=Qg(t,n,a)}else t=f.treeContext,ne=Vn(g.nextSibling),Be=n,Ot=!0,sa=null,Nn=!1,t!==null&&Im(n,t),n=gu(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qh(t,n,a,l,c){return us(n),a=Th(t,n,a,l,void 0,c),l=bh(),t!==null&&!xe?(Ah(t,n,c),Oi(t,n,c)):(Ot&&l&&nh(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Yg(t,n,a,l,c,f){return us(n),n.updateQueue=null,a=Zm(n,l,a,c),Xm(t),l=bh(),t!==null&&!xe?(Ah(t,n,f),Oi(t,n,f)):(Ot&&l&&nh(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Kg(t,n,a,l,c){if(us(n),n.stateNode===null){var f=Ys,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},dh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Ys,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lh.enqueueReplaceState(f,f.state,null),vl(n,l,f,c),_l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=gs(a,E);f.props=N;var k=f.context,G=a.contextType;g=Ys,typeof G=="object"&&G!==null&&(g=qe(G));var Z=a.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Og(n,f,l,g),oa=!1;var B=n.memoizedState;f.state=B,vl(n,l,f,c),_l(),k=n.memoizedState,E||B!==k||oa?(typeof Z=="function"&&(Uh(n,a,Z,l),k=n.memoizedState),(N=oa||Mg(n,a,N,l,B,k,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mh(t,n),g=n.memoizedProps,G=gs(a,g),f.props=G,Z=n.pendingProps,B=f.context,k=a.contextType,N=Ys,typeof k=="object"&&k!==null&&(N=qe(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||B!==N)&&Og(n,f,l,N),oa=!1,B=n.memoizedState,f.state=B,vl(n,l,f,c),_l();var P=n.memoizedState;g!==Z||B!==P||oa||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof E=="function"&&(Uh(n,a,E,l),P=n.memoizedState),(G=oa||Mg(n,a,G,l,B,P,N)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=N,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,pu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ds(n,t.child,null,c),n.child=ds(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function Xg(t,n,a,l){return ls(),n.flags|=256,Pe(t,n,a,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(t){return{baseLanes:t,cachePool:Lm()}}function Gh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function Zg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?ha(n):fa(),(t=ne)?(t=ay(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=Nm(t),a.return=n,n.child=a,Be=n,ne=null)):t=null,t===null)throw ra(n);return Rf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(fa(),c=n.mode,E=yu({mode:"hidden",children:E},c),l=rs(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Hh(a),l.childLanes=Gh(t,g,a),n.memoizedState=Ph,Sl(null,l)):(ha(n),Fh(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(ha(n),n.flags&=-257,n=Qh(t,n,a)):n.memoizedState!==null?(fa(),n.child=t.child,n.flags|=128,n=null):(fa(),E=l.fallback,c=n.mode,l=yu({mode:"visible",children:l.children},c),E=rs(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ds(n,t.child,null,a),l=n.child,l.memoizedState=Hh(a),l.childLanes=Gh(t,g,a),n.memoizedState=Ph,n=Sl(null,l));else if(ha(n),Rf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(s(419)),l.stack="",l.digest=g,fl({value:l,source:null,stack:null}),n=Qh(t,n,a)}else if(xe||Js(t,n,a,!1),g=(a&t.childLanes)!==0,xe||g){if(g=Wt,g!==null&&(l=Fr(g,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ss(t,l),ln(g,t,l),Bh;wf(E)||wu(),n=Qh(t,n,a)}else wf(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ne=Vn(E.nextSibling),Be=n,Ot=!0,sa=null,Nn=!1,t!==null&&Im(n,t),n=Fh(n,l.children),n.flags|=4096);return n}return c?(fa(),E=l.fallback,c=n.mode,N=t.child,k=N.sibling,l=Ci(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,k!==null?E=Ci(k,E):(E=rs(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Sl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Hh(a):(c=E.cachePool,c!==null?(N=Ae._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Lm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Gh(t,g,a),n.memoizedState=Ph,Sl(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Fh(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Qh(t,n,a){return ds(n,t.child,null,a),t=Fh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lh(t.return,n,a)}function Yh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function $g(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(ge,g),Pe(t,n,l,a),l=Ot?hl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jg(t,a,n);else if(t.tag===19)Jg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Yh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Yh(n,!0,a,null,f,l);break;case"together":Yh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ga|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Js(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function M1(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),la(n,Ae,t.memoizedState.cache),ls();break;case 27:case 5:qa(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Zg(t,n,a):(ha(n),t=Oi(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Js(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return $g(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(ge,ge.current),l)break;return null;case 22:return n.lanes=0,Gg(t,n,a,n.pendingProps);case 24:la(n,Ae,t.memoizedState.cache)}return Oi(t,n,a)}function Wg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)xe=!0;else{if(!Kh(t,a)&&(n.flags&128)===0)return xe=!1,M1(t,n,a);xe=(t.flags&131072)!==0}else xe=!1,Ot&&(n.flags&1048576)!==0&&Vm(n,hl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=hs(n.elementType),n.type=t,typeof t=="function")Wc(t)?(l=gs(t,l),n.tag=1,n=Kg(null,n,t,l,a)):(n.tag=0,n=qh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===vt){n.tag=11,n=qg(null,n,t,l,a);break t}else if(c===C){n.tag=14,n=Pg(null,n,t,l,a);break t}}throw n=te(t)||t,Error(s(306,n,""))}}return n;case 0:return qh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=gs(l,n.pendingProps),Kg(t,n,l,c,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,mh(t,n),vl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,la(n,Ae,l),l!==f.cache&&oh(n,[Ae],a,!0),_l(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(t,n,l,a);break t}else if(l!==c){c=wn(Error(s(424)),n),fl(c),n=Xg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ne=Vn(t.firstChild),Be=n,Ot=!0,sa=null,Nn=!0,a=Gm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ls(),l===c){n=Oi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return pu(t,n),t===null?(a=cy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Mu(xt.current).createElement(a),l[Ee]=n,l[Oe]=t,He(l,a,t),Te(l),n.stateNode=l):n.memoizedState=cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qa(n),t===null&&Ot&&(l=n.stateNode=ly(n.type,n.pendingProps,xt.current),Be=n,Nn=!0,c=ne,Ea(n.type)?(Cf=c,ne=Vn(l.firstChild)):ne=c),Pe(t,n,n.pendingProps.children,a),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=ne)&&(l=uE(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,Be=n,ne=Vn(l.firstChild),Nn=!1,c=!0):c=!1),c||ra(n)),qa(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Af(c,f)?l=null:g!==null&&Af(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Th(t,n,S1,null,null,a),kl._currentValue=c),pu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=ne)&&(a=cE(a,n.pendingProps,Nn),a!==null?(n.stateNode=a,Be=n,ne=null,t=!0):t=!1),t||ra(n)),null;case 13:return Zg(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ds(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return qg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,us(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Pg(t,n,n.type,n.pendingProps,a);case 15:return Hg(t,n,n.type,n.pendingProps,a);case 19:return $g(t,n,a);case 31:return I1(t,n,a);case 22:return Gg(t,n,a,n.pendingProps);case 24:return us(n),l=qe(Ae),t===null?(c=hh(),c===null&&(c=Wt,f=uh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},dh(n),la(n,Ae,c)):((t.lanes&a)!==0&&(mh(t,n),vl(n,null,null,a),_l()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),la(n,Ae,l)):(l=f.cache,la(n,Ae,l),l!==c.cache&&oh(n,[Ae],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zi(t){t.flags|=4}function Xh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(wp())t.flags|=8192;else throw fs=eu,fh}else t.flags&=-16777217}function tp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gy(n))if(wp())t.flags|=8192;else throw fs=eu,fh}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?So():536870912,t.lanes|=n,ur|=n)}function xl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function O1(t,n,a){var l=n.pendingProps;switch(ih(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sh())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(zi(n),f!==null?(ie(n),tp(n,f)):(ie(n),Xh(n,c,null,l,a))):f?f!==t.memoizedState?(zi(n),ie(n),tp(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(n),ie(n),Xh(n,c,t,l,a)),null;case 27:if(Cs(n),a=xt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=st.current,Zs(n)?Mm(n):(t=ly(c,l,a),n.stateNode=t,zi(n))}return ie(n),null;case 5:if(Cs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=st.current,Zs(n))Mm(n);else{var g=Mu(xt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Ee]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return ie(n),Xh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=xt.current,Zs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zp(t.nodeValue,a)),t||ra(n,!0)}else t=Mu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Zs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ee]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),_u(n,n.updateQueue),ie(n),null);case 4:return se(),t===null&&_f(n.stateNode.containerInfo),ie(n),null;case 10:return Vi(n.type),ie(n),null;case 19:if(Q(ge),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)xl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=su(t),f!==null){for(n.flags|=128,xl(l,!1),t=f.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Cm(a,t),a=a.sibling;return nt(ge,ge.current&1|2),Ot&&Ni(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>Au&&(n.flags|=128,c=!0,xl(l,!1),n.lanes=4194304)}else{if(!c)if(t=su(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return ie(n),null}else 2*Je()-l.renderingStartTime>Au&&a!==536870912&&(n.flags|=128,c=!0,xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=ge.current,nt(ge,c?a&1|2:a&1),Ot&&Ni(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return gn(n),_h(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&_u(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function z1(t,n){switch(ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Ae),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(ge),null;case 4:return se(),null;case 10:return Vi(n.type),null;case 22:case 23:return gn(n),_h(),t!==null&&Q(cs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Ae),null;case 25:return null;default:return null}}function ep(t,n){switch(ih(n),n.tag){case 3:Vi(Ae),se();break;case 26:case 27:case 5:Cs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Q(ge);break;case 10:Vi(n.type);break;case 22:case 23:gn(n),_h(),t!==null&&Q(cs);break;case 24:Vi(Ae)}}function wl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var N=a,k=E;try{k()}catch(G){Kt(c,N,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function np(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Qm(n,a)}catch(l){Kt(t,t.return,l)}}}function ip(t,n,a){a.props=gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Rl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function pi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function ap(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Zh(t,n,a){try{var l=t.stateNode;iE(l,t.type,a,n),l[Oe]=n}catch(c){Kt(t,t.return,c)}}function sp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ea(t.type)||t.tag===4}function Jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for($h(t,n,a),t=t.sibling;t!==null;)$h(t,n,a),t=t.sibling}function vu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vu(t,n,a),t=t.sibling;t!==null;)vu(t,n,a),t=t.sibling}function rp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,a),n[Ee]=t,n[Oe]=a}catch(f){Kt(t,t.return,f)}}var ji=!1,we=!1,Wh=!1,lp=typeof WeakSet=="function"?WeakSet:Set,je=null;function j1(t,n){if(t=t.containerInfo,Tf=Bu,t=vm(t),Qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,N=-1,k=0,G=0,Z=t,B=null;e:for(;;){for(var P;Z!==a||c!==0&&Z.nodeType!==3||(E=g+c),Z!==f||l!==0&&Z.nodeType!==3||(N=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(P=Z.firstChild)!==null;)B=Z,Z=P;for(;;){if(Z===t)break e;if(B===a&&++k===c&&(E=g),B===f&&++G===l&&(N=g),(P=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=P}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(bf={focusedElem:t,selectionRange:a},Bu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=gs(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Kt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)xf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function op(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&wl(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Kt(a,a.return,g)}else{var c=gs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(a,a.return,g)}}l&64&&np(a),l&512&&Rl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Qm(t,n)}catch(g){Kt(a,a.return,g)}}break;case 27:n===null&&l&4&&rp(a);case 26:case 5:Li(t,a),n===null&&l&4&&ap(a),l&512&&Rl(a,a.return);break;case 12:Li(t,a);break;case 31:Li(t,a),l&4&&hp(t,a);break;case 13:Li(t,a),l&4&&fp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=F1.bind(null,a),hE(t,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){n=n!==null&&n.memoizedState!==null||we,c=ji;var f=we;ji=l,(we=n)&&!f?ki(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),ji=c,we=f}break;case 30:break;default:Li(t,a)}}function up(t){var n=t.alternate;n!==null&&(t.alternate=null,up(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ms(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function Ui(t,n,a){for(a=a.child;a!==null;)cp(t,n,a),a=a.sibling}function cp(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:we||pi(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||pi(a,n);var l=le,c=nn;Ea(a.type)&&(le=a.stateNode,nn=!1),Ui(t,n,a),jl(a.stateNode),le=l,nn=c;break;case 5:we||pi(a,n);case 6:if(l=le,c=nn,le=null,Ui(t,n,a),le=l,nn=c,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:le!==null&&(nn?(t=le,ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yr(t)):ny(le,a.stateNode));break;case 4:l=le,c=nn,le=a.stateNode.containerInfo,nn=!0,Ui(t,n,a),le=l,nn=c;break;case 0:case 11:case 14:case 15:da(2,a,n),we||da(4,a,n),Ui(t,n,a);break;case 1:we||(pi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ip(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:we=(l=we)||a.memoizedState!==null,Ui(t,n,a),we=l;break;default:Ui(t,n,a)}}function hp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yr(t)}catch(a){Kt(n,n.return,a)}}}function fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yr(t)}catch(a){Kt(n,n.return,a)}}function U1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new lp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new lp),n;default:throw Error(s(435,t.tag))}}function Eu(t,n){var a=U1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=Q1.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ea(E.type)){le=E.stateNode,nn=!1;break t}break;case 5:le=E.stateNode,nn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(le===null)throw Error(s(160));cp(f,g,c),le=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dp(n,t),n=n.sibling}var Qn=null;function dp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(da(3,t,t.return),wl(3,t),da(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(we||a===null||pi(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Qn;if(an(n,t),sn(t),l&512&&(we||a===null||pi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ni]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,a),f[Ee]=t,Te(f),l=f;break t;case"link":var g=dy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;case"meta":if(g=dy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,Te(f),l=f}t.stateNode=l}else my(c,t.type,t.stateNode);else t.stateNode=fy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?my(c,t.type,t.stateNode):fy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(we||a===null||pi(a,a.return)),a!==null&&l&4&&Zh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(we||a===null||pi(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(rt){Kt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Zh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Wh=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Kt(t,t.return,rt)}}break;case 3:if(ju=null,c=Qn,Qn=Ou(n.containerInfo),an(n,t),Qn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yr(n.containerInfo)}catch(rt){Kt(t,t.return,rt)}Wh&&(Wh=!1,mp(t));break;case 4:l=Qn,Qn=Ou(t.stateNode.containerInfo),an(n,t),sn(t),Qn=l;break;case 12:an(n,t),sn(t);break;case 31:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 22:c=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,k=ji,G=we;if(ji=k||c,we=G||N,an(n,t),we=G,ji=k,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||N||ji||we||ps(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var Z=N.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(rt){Kt(N,N.return,rt)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(rt){Kt(N,N.return,rt)}}}else if(n.tag===18){if(a===null){N=n;try{var P=N.stateNode;c?iy(P,!0):iy(N.stateNode,!1)}catch(rt){Kt(N,N.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eu(t,a))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(sp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Jh(t);vu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=Jh(t);vu(t,E,g);break;case 3:case 4:var N=a.stateNode.containerInfo,k=Jh(t);$h(t,k,N);break;default:throw Error(s(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)op(t,n.alternate,n),n=n.sibling}function ps(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),ps(n);break;case 1:pi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ip(n,n.return,a),ps(n);break;case 27:jl(n.stateNode);case 26:case 5:pi(n,n.return),ps(n);break;case 22:n.memoizedState===null&&ps(n);break;case 30:ps(n);break;default:ps(n)}t=t.sibling}}function ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ki(c,f,a),wl(4,f);break;case 1:if(ki(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Kt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)Fm(N[c],E)}catch(k){Kt(l,l.return,k)}}a&&g&64&&np(f),Rl(f,f.return);break;case 27:rp(f);case 26:case 5:ki(c,f,a),a&&l===null&&g&4&&ap(f),Rl(f,f.return);break;case 12:ki(c,f,a);break;case 31:ki(c,f,a),a&&g&4&&hp(c,f);break;case 13:ki(c,f,a),a&&g&4&&fp(c,f);break;case 22:f.memoizedState===null&&ki(c,f,a),Rl(f,f.return);break;case 30:break;default:ki(c,f,a)}n=n.sibling}}function tf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t))}function Yn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(t,n,a,l),n=n.sibling}function gp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,a,l),c&2048&&wl(9,n);break;case 1:Yn(t,n,a,l);break;case 3:Yn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t)));break;case 12:if(c&2048){Yn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Kt(n,n.return,N)}}else Yn(t,n,a,l);break;case 31:Yn(t,n,a,l);break;case 13:Yn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,a,l):Cl(t,n):f._visibility&2?Yn(t,n,a,l):(f._visibility|=2,rr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&tf(g,n);break;case 24:Yn(t,n,a,l),c&2048&&ef(n.alternate,n);break;default:Yn(t,n,a,l)}}function rr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,N=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:rr(f,g,E,N,c),wl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?rr(f,g,E,N,c):Cl(f,g):(G._visibility|=2,rr(f,g,E,N,c)),c&&k&2048&&tf(g.alternate,g);break;case 24:rr(f,g,E,N,c),c&&k&2048&&ef(g.alternate,g);break;default:rr(f,g,E,N,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(a,l),c&2048&&tf(l.alternate,l);break;case 24:Cl(a,l),c&2048&&ef(l.alternate,l);break;default:Cl(a,l)}n=n.sibling}}var Nl=8192;function lr(t,n,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)pp(t,n,a),t=t.sibling}function pp(t,n,a){switch(t.tag){case 26:lr(t,n,a),t.flags&Nl&&t.memoizedState!==null&&AE(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:lr(t,n,a);break;case 3:case 4:var l=Qn;Qn=Ou(t.stateNode.containerInfo),lr(t,n,a),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,lr(t,n,a),Nl=l):lr(t,n,a));break;default:lr(t,n,a)}}function yp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,vp(l,t)}yp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&da(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tu(t)):Dl(t);break;default:Dl(t)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,vp(l,t)}yp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),Tu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(n));break;default:Tu(n)}t=t.sibling}}function vp(t,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(up(l),l===a){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var L1={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},k1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Rt=null,Dt=0,Yt=0,pn=null,ma=!1,or=!1,nf=!1,Bi=0,ce=0,ga=0,ys=0,af=0,yn=0,ur=0,Vl=null,rn=null,sf=!1,bu=0,Ep=0,Au=1/0,Su=null,pa=null,Ie=0,ya=null,cr=null,qi=0,rf=0,lf=null,Tp=null,Il=0,of=null;function _n(){return(Gt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?mf():xo()}function bp(){if(yn===0)if((Dt&536870912)===0||Ot){var t=Ga;Ga<<=1,(Ga&3932160)===0&&(Ga=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function ln(t,n,a){(t===Wt&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(hr(t,0),_a(t,Dt,yn,!1)),Fa(t,a),((Gt&2)===0||t!==Wt)&&(t===Wt&&((Gt&2)===0&&(ys|=a),ce===4&&_a(t,Dt,yn,!1)),yi(t))}function Ap(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),c=l?P1(t,n):cf(t,n,!0),f=l;do{if(c===0){or&&!l&&_a(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!B1(a)){c=cf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Vl;var N=E.current.memoizedState.isDehydrated;if(N&&(hr(E,g).flags|=256),g=cf(E,g,!1),g!==2){if(nf&&!N){E.errorRecoveryDisabledLanes|=f,ys|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){hr(t,0),_a(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,yn,!ma);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=bu+300-Je(),10<c)){if(_a(l,n,yn,!ma),Wn(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=ty(Sp.bind(null,l,a,rn,Su,sf,n,yn,ys,ur,ma,f,"Throttled",-0,0),c);break t}Sp(l,a,rn,Su,sf,n,yn,ys,ur,ma,f,null,-0,0)}}break}while(!0);yi(t)}function Sp(t,n,a,l,c,f,g,E,N,k,G,Z,B,P){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},pp(n,f,Z);var rt=(f&62914560)===f?bu-Je():(f&4194048)===f?Ep-Je():0;if(rt=SE(Z,rt),rt!==null){qi=f,t.cancelPendingCommit=rt(Ip.bind(null,t,n,f,a,l,c,g,E,N,G,Z,null,B,P)),_a(t,f,g,!k);return}}Ip(t,n,f,a,l,c,g,E,N)}function B1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(t,n,a,l){n&=~af,n&=~ys,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-de(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Qa(t,a,n)}function xu(){return(Gt&6)===0?(Ml(0),!1):!0}function uf(){if(Rt!==null){if(Yt===0)var t=Rt.return;else t=Rt,Di=os=null,Sh(t),er=null,gl=0,t=Rt;for(;t!==null;)ep(t.alternate,t),t=t.return;Rt=null}}function hr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,uf(),Wt=t,Rt=a=Ci(t.current,null),Dt=n,Yt=0,pn=null,ma=!1,or=Un(t,n),nf=!1,ur=yn=af=ys=ga=ce=0,rn=Vl=null,sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-de(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,Qo(),a}function xp(t,n){St=null,H.H=Al,n===tr||n===tu?(n=qm(),Yt=3):n===fh?(n=qm(),Yt=4):Yt=n===Bh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Rt===null&&(ce=1,mu(t,wn(n,t.current)))}function wp(){var t=mn.current;return t===null?!0:(Dt&4194048)===Dt?Dn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Dn:!1}function Rp(){var t=H.H;return H.H=Al,t===null?Al:t}function Cp(){var t=H.A;return H.A=L1,t}function wu(){ce=4,ma||(Dt&4194048)!==Dt&&mn.current!==null||(or=!0),(ga&134217727)===0&&(ys&134217727)===0||Wt===null||_a(Wt,Dt,yn,!1)}function cf(t,n,a){var l=Gt;Gt|=2;var c=Rp(),f=Cp();(Wt!==t||Dt!==n)&&(Su=null,hr(t,n)),n=!1;var g=ce;t:do try{if(Yt!==0&&Rt!==null){var E=Rt,N=pn;switch(Yt){case 8:uf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var k=Yt;if(Yt=0,pn=null,fr(t,E,N,k),a&&or){g=0;break t}break;default:k=Yt,Yt=0,pn=null,fr(t,E,N,k)}}q1(),g=ce;break}catch(G){xp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Di=os=null,Gt=l,H.H=c,H.A=f,Rt===null&&(Wt=null,Dt=0,Qo()),g}function q1(){for(;Rt!==null;)Np(Rt)}function P1(t,n){var a=Gt;Gt|=2;var l=Rp(),c=Cp();Wt!==t||Dt!==n?(Su=null,Au=Je()+500,hr(t,n)):or=Un(t,n);t:do try{if(Yt!==0&&Rt!==null){n=Rt;var f=pn;e:switch(Yt){case 1:Yt=0,pn=null,fr(t,n,f,1);break;case 2:case 9:if(km(f)){Yt=0,pn=null,Dp(n);break}n=function(){Yt!==2&&Yt!==9||Wt!==t||(Yt=7),yi(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:km(f)?(Yt=0,pn=null,Dp(n)):(Yt=0,pn=null,fr(t,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?gy(g):E.stateNode.complete){Yt=0,pn=null;var N=E.sibling;if(N!==null)Rt=N;else{var k=E.return;k!==null?(Rt=k,Ru(k)):Rt=null}break e}}Yt=0,pn=null,fr(t,n,f,5);break;case 6:Yt=0,pn=null,fr(t,n,f,6);break;case 8:uf(),ce=6;break t;default:throw Error(s(462))}}H1();break}catch(G){xp(t,G)}while(!0);return Di=os=null,H.H=l,H.A=c,Gt=a,Rt!==null?0:(Wt=null,Dt=0,Qo(),ce)}function H1(){for(;Rt!==null&&!kc();)Np(Rt)}function Np(t){var n=Wg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?Ru(t):Rt=n}function Dp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Yg(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Yg(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:Sh(n);default:ep(a,n),n=Rt=Cm(n,Bi),n=Wg(a,n,Bi)}t.memoizedProps=t.pendingProps,n===null?Ru(t):Rt=n}function fr(t,n,a,l){Di=os=null,Sh(n),er=null,gl=0;var c=n.return;try{if(V1(t,c,n,a,Dt)){ce=1,mu(t,wn(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ce=1,mu(t,wn(a,t.current)),Rt=null;return}n.flags&32768?(Ot||l===1?t=!0:or||(Dt&536870912)!==0?t=!1:(ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vp(n,t)):Ru(n)}function Ru(t){var n=t;do{if((n.flags&32768)!==0){Vp(n,ma);return}t=n.return;var a=O1(n.alternate,n,Bi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ce===0&&(ce=5)}function Vp(t,n){do{var a=z1(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ce=6,Rt=null}function Ip(t,n,a,l,c,f,g,E,N){t.cancelPendingCommit=null;do Cu();while(Ie!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Jc,Pc(t,a,f,g,E,N),t===Wt&&(Rt=Wt=null,Dt=0),cr=n,ya=t,qi=a,rf=f,lf=c,Tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Y1(Ki,function(){return Up(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,g=Gt,Gt|=4;try{j1(t,n,a)}finally{Gt=g,et.p=c,H.T=l}}Ie=1,Mp(),Op(),zp()}}function Mp(){if(Ie===1){Ie=0;var t=ya,n=cr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{dp(n,t);var f=bf,g=vm(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&_m(E.ownerDocument.documentElement,E)){if(N!==null&&Qc(E)){var k=N.start,G=N.end;if(G===void 0&&(G=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(G,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var P=B.getSelection(),rt=E.textContent.length,mt=Math.min(N.start,rt),$t=N.end===void 0?mt:Math.min(N.end,rt);!P.extend&&mt>$t&&(g=$t,$t=mt,mt=g);var z=ym(E,mt),I=ym(E,$t);if(z&&I&&(P.rangeCount!==1||P.anchorNode!==z.node||P.anchorOffset!==z.offset||P.focusNode!==I.node||P.focusOffset!==I.offset)){var L=Z.createRange();L.setStart(z.node,z.offset),P.removeAllRanges(),mt>$t?(P.addRange(L),P.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),P.addRange(L))}}}}for(Z=[],P=E;P=P.parentNode;)P.nodeType===1&&Z.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var K=Z[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Bu=!!Tf,bf=Tf=null}finally{Gt=c,et.p=l,H.T=a}}t.current=n,Ie=2}}function Op(){if(Ie===2){Ie=0;var t=ya,n=cr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{op(t,n.alternate,n)}finally{Gt=c,et.p=l,H.T=a}}Ie=3}}function zp(){if(Ie===4||Ie===3){Ie=0,_o();var t=ya,n=cr,a=qi,l=Tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,cr=ya=null,jp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(pa=null),Si(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(qi&3)!==0&&Cu(),yi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===of?Il++:(Il=0,of=t):Il=0,Ml(0)}}function jp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,dl(n)))}function Cu(){return Mp(),Op(),zp(),Up()}function Up(){if(Ie!==5)return!1;var t=ya,n=rf;rf=0;var a=Si(qi),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=lf,lf=null;var f=ya,g=qi;if(Ie=0,cr=ya=null,qi=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,_p(f.current),gp(f,f.current,g,a),Gt=E,Ml(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{et.p=c,H.T=l,jp(t,n)}}function Lp(t,n,a){n=wn(a,n),n=kh(t.stateNode,n,2),t=ca(t,n,2),t!==null&&(Fa(t,2),yi(t))}function Kt(t,n,a){if(t.tag===3)Lp(t,t,a);else for(;n!==null;){if(n.tag===3){Lp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){t=wn(a,t),a=kg(2),l=ca(n,a,2),l!==null&&(Bg(a,l,n,t),Fa(l,2),yi(l));break}}n=n.return}}function hf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new k1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(nf=!0,c.add(a),t=G1.bind(null,t,n,a),n.then(t,t))}function G1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Dt&a)===a&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>Je()-bu?(Gt&2)===0&&hr(t,0):af|=a,ur===Dt&&(ur=0)),yi(t)}function kp(t,n){n===0&&(n=So()),t=ss(t,n),t!==null&&(Fa(t,n),yi(t))}function F1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),kp(t,a)}function Q1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kp(t,a)}function Y1(t,n){return Ve(t,n)}var Nu=null,dr=null,ff=!1,Du=!1,df=!1,va=0;function yi(t){t!==dr&&t.next===null&&(dr===null?Nu=dr=t:dr=dr.next=t),Du=!0,ff||(ff=!0,X1())}function Ml(t,n){if(!df&&Du){df=!0;do for(var a=!1,l=Nu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Hp(l,f))}else f=Dt,f=Wn(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(a=!0,Hp(l,f));l=l.next}while(a);df=!1}}function K1(){Bp()}function Bp(){Du=ff=!1;var t=0;va!==0&&sE()&&(t=va);for(var n=Je(),a=null,l=Nu;l!==null;){var c=l.next,f=qp(l,n);f===0?(l.next=null,a===null?Nu=c:a.next=c,c===null&&(dr=a)):(a=l,(t!==0||(f&3)!==0)&&(Du=!0)),l=c}Ie!==0&&Ie!==5||Ml(t),va!==0&&(va=0)}function qp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,N=c[g];N===-1?((E&a)===0||(E&l)!==0)&&(c[g]=qc(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,a=Dt,a=Wn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Yi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Yi(l),Si(a)){case 2:case 8:a=Hr;break;case 32:a=Ki;break;case 268435456:a=vo;break;default:a=Ki}return l=Pp.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Yi(l),t.callbackPriority=2,t.callbackNode=null,2}function Pp(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=Dt;return l=Wn(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ap(t,l,n),qp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Pp.bind(null,t):null)}function Hp(t,n){if(Cu())return null;Ap(t,n,!0)}function X1(){lE(function(){(Gt&6)!==0?Ve(Pr,K1):Bp()})}function mf(){if(va===0){var t=$s;t===0&&(t=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),va=t}return va}function Gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Us(""+t)}function Fp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Z1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Gp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Gp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ci("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var N=g?Fp(c,g):new FormData(c);Mh(a,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?Fp(c,g):new FormData(c),Mh(a,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var gf=0;gf<Zc.length;gf++){var pf=Zc[gf],J1=pf.toLowerCase(),$1=pf[0].toUpperCase()+pf.slice(1);Fn(J1,"on"+$1)}Fn(bm,"onAnimationEnd"),Fn(Am,"onAnimationIteration"),Fn(Sm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(m1,"onTransitionRun"),Fn(g1,"onTransitionStart"),Fn(p1,"onTransitionCancel"),Fn(xm,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Qp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,k=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){Fo(G)}c.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,k=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){Fo(G)}c.currentTarget=null,f=N}}}}function Ct(t,n){var a=n[Is];a===void 0&&(a=n[Is]=new Set);var l=t+"__bubble";a.has(l)||(Yp(n,t,2,!1),a.add(l))}function yf(t,n,a){var l=0;n&&(l|=4),Yp(a,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function _f(t){if(!t[Vu]){t[Vu]=!0,Qr.forEach(function(a){a!=="selectionchange"&&(W1.has(a)||yf(a,!1,t),yf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,yf("selectionchange",!1,n))}}function Yp(t,n,a,l){switch(by(n)){case 2:var c=RE;break;case 8:c=CE;break;default:c=Mf}a=c.bind(null,n,a,t),c=void 0,!Ja||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function vf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ii(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ta(function(){var k=f,G=bn(a),Z=[];t:{var B=wm.get(t);if(B!==void 0){var P=ci,rt=t;switch(t){case"keypress":if(Wa(a)===0)break t;case"keydown":case"keyup":P=Po;break;case"focusin":rt="focus",P=es;break;case"focusout":rt="blur",P=es;break;case"beforeblur":case"afterblur":P=es;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case bm:case Am:case Sm:P=zo;break;case xm:P=T;break;case"scroll":case"scrollend":P=al;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ri;break;case"toggle":case"beforetoggle":P=At}var mt=(n&4)!==0,$t=!mt&&(t==="scroll"||t==="scrollend"),z=mt?B!==null?B+"Capture":null:B;mt=[];for(var I=k,L;I!==null;){var K=I;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||z===null||(K=qn(I,z),K!=null&&mt.push(zl(I,K,L))),$t)break;I=I.return}0<mt.length&&(B=new P(B,rt,null,a,G),Z.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",B&&a!==el&&(rt=a.relatedTarget||a.fromElement)&&(ii(rt)||rt[ei]))break t;if((P||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,P?(rt=a.relatedTarget||a.toElement,P=k,rt=rt?ii(rt):null,rt!==null&&($t=h(rt),mt=rt.tag,rt!==$t||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(P=null,rt=k),P!==rt)){if(mt=sl,K="onMouseLeave",z="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Ri,K="onPointerLeave",z="onPointerEnter",I="pointer"),$t=P==null?B:cn(P),L=rt==null?B:cn(rt),B=new mt(K,I+"leave",P,a,G),B.target=$t,B.relatedTarget=L,K=null,ii(G)===k&&(mt=new mt(z,I+"enter",rt,a,G),mt.target=L,mt.relatedTarget=$t,K=mt),$t=K,P&&rt)e:{for(mt=tE,z=P,I=rt,L=0,K=z;K;K=mt(K))L++;K=0;for(var ht=I;ht;ht=mt(ht))K++;for(;0<L-K;)z=mt(z),L--;for(;0<K-L;)I=mt(I),K--;for(;L--;){if(z===I||I!==null&&z===I.alternate){mt=z;break e}z=mt(z),I=mt(I)}mt=null}else mt=null;P!==null&&Kp(Z,B,P,mt,!1),rt!==null&&$t!==null&&Kp(Z,$t,rt,mt,!0)}}t:{if(B=k?cn(k):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var Bt=hm;else if(um(B))if(fm)Bt=h1;else{Bt=u1;var lt=o1}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&js(k.elementType)&&(Bt=hm):Bt=c1;if(Bt&&(Bt=Bt(t,k))){cm(Z,Bt,a,G);break t}lt&&lt(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&$r(B,"number",B.value)}switch(lt=k?cn(k):window,t){case"focusin":(um(lt)||lt.contentEditable==="true")&&(Gs=lt,Yc=k,cl=null);break;case"focusout":cl=Yc=Gs=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Em(Z,a,G);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":Em(Z,a,G)}var wt;if(Ht)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Hs?ns(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(di&&a.locale!=="ko"&&(Hs||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Hs&&(wt=il()):(ui=G,nl="value"in ui?ui.value:ui.textContent,Hs=!0)),lt=Iu(k,Vt),0<lt.length&&(Vt=new fi(Vt,t,null,a,G),Z.push({event:Vt,listeners:lt}),wt?Vt.data=wt:(wt=Ps(a),wt!==null&&(Vt.data=wt)))),(wt=Sn?a1(t,a):s1(t,a))&&(Vt=Iu(k,"onBeforeInput"),0<Vt.length&&(lt=new fi("onBeforeInput","beforeinput",null,a,G),Z.push({event:lt,listeners:Vt}),lt.data=wt)),Z1(Z,t,k,a,G)}Qp(Z,n)})}function zl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Iu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qn(t,a),c!=null&&l.unshift(zl(t,c,f)),c=qn(t,n),c!=null&&l.push(zl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function tE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,N=E.alternate,k=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||k===null||(N=k,c?(k=qn(a,f),k!=null&&g.unshift(zl(a,k,N))):c||(k=qn(a,f),k!=null&&g.push(zl(a,k,N)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var eE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(nE,"")}function Zp(t,n){return n=Xp(n),Xp(t)===n}function Jt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":tl(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Us(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Us(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Os(t,"popover",l);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Os(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Io.get(a)||a,Os(t,a,l))}}function Ef(t,n,a,l,c,f){switch(a){case"style":tl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Os(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,f,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=g=c=null,N=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":N=G;break;case"defaultChecked":k=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Jt(t,n,l,G,a,null)}}No(t,f,E,N,k,g,c,!1);return;case"select":Ct("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Zi(t,!!l,n,!1):a!=null&&Zi(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(t,n,g,E,a,null)}Ji(t,l,c,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(t,n,N,l,a,null));return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ct(Ol[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,k,l,a,null)}return;default:if(js(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Ef(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function iE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,N=null,k=null,G=null;for(P in a){var Z=a[P];if(a.hasOwnProperty(P)&&Z!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(P)||Jt(t,n,P,null,l,Z)}}for(var B in l){var P=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(P!=null||Z!=null))switch(B){case"type":f=P;break;case"name":c=P;break;case"checked":k=P;break;case"defaultChecked":G=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:P!==Z&&Jt(t,n,B,P,l,Z)}}zs(t,g,E,N,k,G,f,c);return;case"select":P=g=E=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":P=N;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,N)}for(c in l)if(f=l[c],N=a[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&Jt(t,n,c,f,l,N)}n=E,a=g,l=P,B!=null?Zi(t,!!a,B,!1):!!l!=!!a&&(n!=null?Zi(t,!!a,n,!0):Zi(t,!!a,a?[]:"",!1));return;case"textarea":P=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Do(t,B,P);return;case"option":for(var rt in a)B=a[rt],a.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt)&&(rt==="selected"?t.selected=!1:Jt(t,n,rt,null,l,B));for(N in l)B=l[N],P=a[N],l.hasOwnProperty(N)&&B!==P&&(B!=null||P!=null)&&(N==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(t,n,N,B,l,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Jt(t,n,mt,null,l,B);for(k in l)if(B=l[k],P=a[k],l.hasOwnProperty(k)&&B!==P&&(B!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Jt(t,n,k,B,l,P)}return;default:if(js(n)){for(var $t in a)B=a[$t],a.hasOwnProperty($t)&&B!==void 0&&!l.hasOwnProperty($t)&&Ef(t,n,$t,void 0,l,B);for(G in l)B=l[G],P=a[G],!l.hasOwnProperty(G)||B===P||B===void 0&&P===void 0||Ef(t,n,G,B,l,P);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Jt(t,n,z,null,l,B);for(Z in l)B=l[Z],P=a[Z],!l.hasOwnProperty(Z)||B===P||B==null&&P==null||Jt(t,n,Z,B,l,P)}function Jp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Jp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var N=a[l],k=N.startTime;if(k>E)break;var G=N.transferSize,Z=N.initiatorType;G&&Jp(Z)&&(N=N.responseEnd,g+=G*(N<E?1:(E-k)/(N-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tf=null,bf=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function $p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sf=null;function sE(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var ty=typeof setTimeout=="function"?setTimeout:void 0,rE=typeof clearTimeout=="function"?clearTimeout:void 0,ey=typeof Promise=="function"?Promise:void 0,lE=typeof queueMicrotask=="function"?queueMicrotask:typeof ey<"u"?function(t){return ey.resolve(null).then(t).catch(oE)}:ty;function oE(t){setTimeout(function(){throw t})}function Ea(t){return t==="head"}function ny(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),yr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&jl(t.ownerDocument.body);a=c}while(a);yr(n)}function iy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function xf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xf(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function uE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function cE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function ay(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function wf(t){return t.data==="$?"||t.data==="$~"}function Rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cf=null;function sy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function ry(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function ly(t,n,a){switch(n=Mu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ms(t)}var In=new Map,oy=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=et.d;et.d={f:fE,r:dE,D:mE,C:gE,L:pE,m:yE,X:vE,S:_E,M:EE};function fE(){var t=Pi.f(),n=xu();return t||n}function dE(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?xg(n):Pi.r(t)}var mr=typeof document>"u"?null:document;function uy(t,n,a){var l=mr;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),oy.has(c)||(oy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),Te(n),l.head.appendChild(n)))}}function mE(t){Pi.D(t),uy("dns-prefetch",t,null)}function gE(t,n){Pi.C(t,n),uy("preconnect",t,n)}function pE(t,n,a){Pi.L(t,n,a);var l=mr;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=gr(t);break;case"script":f=pr(t)}In.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),He(n,"link",t),Te(n),l.head.appendChild(n)))}}function yE(t,n){Pi.m(t,n);var a=mr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pr(t)}if(!In.has(f)&&(t=x({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}l=a.createElement("link"),He(l,"link",t),Te(l),a.head.appendChild(l)}}}function _E(t,n,a){Pi.S(t,n,a);var l=mr;if(l&&t){var c=ai(l).hoistableStyles,f=gr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ul(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&Nf(t,a);var N=g=l.createElement("link");Te(N),He(N,"link",t),N._p=new Promise(function(k,G){N.onload=k,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function vE(t,n){Pi.X(t,n);var a=mr;if(a&&t){var l=ai(a).hoistableScripts,c=pr(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=x({src:t,async:!0},n),(n=In.get(c))&&Df(t,n),f=a.createElement("script"),Te(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function EE(t,n){Pi.M(t,n);var a=mr;if(a&&t){var l=ai(a).hoistableScripts,c=pr(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=x({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Df(t,n),f=a.createElement("script"),Te(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function cy(t,n,a,l){var c=(c=xt.current)?Ou(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=gr(a.href),a=ai(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=gr(a.href);var f=ai(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ul(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||TE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pr(a),a=ai(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gr(t){return'href="'+tn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function hy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function TE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),Te(n),t.head.appendChild(n))}function pr(t){return'[src="'+tn(t)+'"]'}function Ll(t){return"script[async]"+t}function fy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,Te(l),l;var c=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Te(l),He(l,"style",c),zu(l,a.precedence,t),n.instance=l;case"stylesheet":c=gr(a.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=hy(a),(c=In.get(c))&&Nf(l,c),f=(t.ownerDocument||t).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),He(f,"link",l),n.state.loading|=4,zu(f,a.precedence,t),n.instance=f;case"script":return f=pr(a.src),(c=t.querySelector(Ll(f)))?(n.instance=c,Te(c),c):(l=a,(c=In.get(f))&&(l=x({},a),Df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Te(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,zu(l,a.precedence,t));return n.instance}function zu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ju=null;function dy(t,n,a){if(ju===null){var l=new Map,c=ju=new Map;c.set(a,l)}else c=ju,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ni]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function my(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function bE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function AE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=gr(l.href),f=n.querySelector(Ul(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,l=hy(l),(c=In.get(c))&&Nf(l,c),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Vf=0;function SE(t,n){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vf===0&&(Vf=62500*aE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function ku(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(xE,t),Lu=null,Uu.call(t))}function xE(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function wE(t,n,a,l,c,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function py(t,n,a,l,c,f,g,E,N,k,G,Z){return t=new wE(t,n,a,g,N,k,G,Z,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=uh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},dh(f),t}function yy(t){return t?(t=Ys,t):Ys}function _y(t,n,a,l,c,f){c=yy(c),l.context===null?l.context=c:l.pendingContext=c,l=ua(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ca(t,l,n),a!==null&&(ln(a,t,n),yl(a,t,n))}function vy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function If(t,n){vy(t,n),(t=t.alternate)&&vy(t,n)}function Ey(t){if(t.tag===13||t.tag===31){var n=ss(t,67108864);n!==null&&ln(n,t,67108864),If(t,67108864)}}function Ty(t){if(t.tag===13||t.tag===31){var n=_n();n=Ya(n);var a=ss(t,n);a!==null&&ln(a,t,n),If(t,n)}}var Bu=!0;function RE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Mf(t,n,a,l)}finally{et.p=f,H.T=c}}function CE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Mf(t,n,a,l)}finally{et.p=f,H.T=c}}function Mf(t,n,a,l){if(Bu){var c=Of(l);if(c===null)vf(t,n,l,qu,a),Ay(t,l);else if(DE(c,t,n,a,l))l.stopPropagation();else if(Ay(t,l),n&4&&-1<NE.indexOf(t)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$n(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-de(g);E.entanglements[1]|=N,g&=~N}yi(f),(Gt&6)===0&&(Au=Je()+500,Ml(0))}}break;case 31:case 13:E=ss(f,2),E!==null&&ln(E,f,2),xu(),If(f,2)}if(f=Of(l),f===null&&vf(t,n,l,qu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else vf(t,n,l,null,a)}}function Of(t){return t=bn(t),zf(t)}var qu=null;function zf(t){if(qu=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function by(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ha()){case Pr:return 2;case Hr:return 8;case Ki:case Bc:return 32;case vo:return 268435456;default:return 32}default:return 32}}var jf=!1,Ta=null,ba=null,Aa=null,Bl=new Map,ql=new Map,Sa=[],NE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(t,n){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Pl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&Ey(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function DE(t,n,a,l,c){switch(n){case"focusin":return Ta=Pl(Ta,t,n,a,l,c),!0;case"dragenter":return ba=Pl(ba,t,n,a,l,c),!0;case"mouseover":return Aa=Pl(Aa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Bl.set(f,Pl(Bl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ql.set(f,Pl(ql.get(f)||null,t,n,a,l,c)),!0}return!1}function Sy(t){var n=ii(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){Ty(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){Ty(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Of(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return n=Tn(a),n!==null&&Ey(n),t.blockedOn=a,!1;n.shift()}return!0}function xy(t,n,a){Pu(t)&&a.delete(n)}function VE(){jf=!1,Ta!==null&&Pu(Ta)&&(Ta=null),ba!==null&&Pu(ba)&&(ba=null),Aa!==null&&Pu(Aa)&&(Aa=null),Bl.forEach(xy),ql.forEach(xy)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,jf||(jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VE)))}var Gu=null;function wy(t){Gu!==t&&(Gu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(zf(l||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(n,3),n-=3,Mh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function yr(t){function n(N){return Hu(N,t)}Ta!==null&&Hu(Ta,t),ba!==null&&Hu(ba,t),Aa!==null&&Hu(Aa,t),Bl.forEach(n),ql.forEach(n);for(var a=0;a<Sa.length;a++){var l=Sa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sa.length&&(a=Sa[0],a.blockedOn===null);)Sy(a),a.blockedOn===null&&Sa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||wy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(zf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),wy(a)}}}function Ry(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Uf(t){this._internalRoot=t}Fu.prototype.render=Uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();_y(a,l,t,n,null,null)},Fu.prototype.unmount=Uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;_y(t.current,2,null,t,null,null),xu(),n[ei]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var n=xo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Sa.length&&n!==0&&n<Sa[a].priority;a++);Sa.splice(a,0,t),a===0&&Sy(t)}};var Cy=e.version;if(Cy!=="19.2.4")throw Error(s(527,Cy,"19.2.4"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var IE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{jn=Qu.inject(IE),Le=Qu}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=zg,f=jg,g=Ug;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=py(t,1,!1,null,null,a,l,null,c,f,g,Ry),t[ei]=n.current,_f(t),new Uf(n)},Gl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=zg,g=jg,E=Ug,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=py(t,1,!0,n,a??null,l,c,N,f,g,E,Ry),n.context=yy(null),a=n.current,l=_n(),l=Ya(l),c=ua(l),c.callback=null,ca(a,c,l),a=l,n.current.lanes=a,Fa(n,a),yi(n),t[ei]=n.current,_f(t),new Fu(n)},Gl.version="19.2.4",Gl}var Ly;function PE(){if(Ly)return Bf.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bf.exports=qE(),Bf.exports}var HE=PE();const GE=()=>{};var ky={};const t_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},FE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},e_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,b=h>>2,x=(h&3)<<4|p>>4;let O=(p&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(O=64)),s.push(i[b],i[x],i[O],i[Y])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(t_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const x=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||x==null)throw new QE;const O=h<<2|p>>4;if(s.push(O),_!==64){const Y=p<<4&240|_>>2;if(s.push(Y),x!==64){const W=_<<6&192|x;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(r){const e=t_(r);return e_.encodeByteArray(e,!0)},sc=function(r){return YE(r).replace(/\./g,"")},KE=function(r){try{return e_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZE=()=>XE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof ky>"u")return;const r=ky.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$E=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&KE(r[1]);return e&&JSON.parse(e)},wd=()=>{try{return GE()||ZE()||JE()||$E()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WE=r=>wd()?.emulatorHosts?.[r],tT=r=>{const e=WE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},n_=()=>wd()?.config;class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Rd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nT(r){return(await fetch(r,{credentials:"include"})).ok}function iT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sc(JSON.stringify(i)),sc(JSON.stringify(d)),""].join(".")}const Zl={};function aT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function sT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let By=!1;function rT(r,e){if(typeof window>"u"||typeof document>"u"||!Rd(window.location.host)||Zl[r]===e||Zl[r]||By)return;Zl[r]=e;function i(O){return`__firebase__banner__${O}`}const s="__firebase__banner",h=aT().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Y){O.setAttribute("width","24"),O.setAttribute("id",Y),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{By=!0,d()},O}function b(O,Y){O.setAttribute("id",Y),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=sT(s),Y=i("text"),W=document.getElementById(Y)||document.createElement("span"),F=i("learnmore"),$=document.getElementById(F)||document.createElement("a"),ct=i("preprendIcon"),dt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const gt=O.element;p(gt),b($,F);const vt=_();v(dt,ct),gt.append(dt,W,$,vt),document.body.appendChild(gt)}h?(W.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function lT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oT(){const r=wd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uT(){return!oT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function hT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const fT="FirebaseError";class Mr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=fT,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i_.prototype.create)}}class i_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?dT(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Mr(o,p,s)}}function dT(r,e){return r.replace(mT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mT=/\{\$([^}]+)}/g;function rc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(qy(h)&&qy(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function qy(r){return r!==null&&typeof r=="object"}function bi(r){return r&&r._delegate?r._delegate:r}class eo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vs="[DEFAULT]";class gT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new eT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yT(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pT(r){return r===vs?void 0:r}function yT(r){return r.instantiationMode==="EAGER"}class _T{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const vT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},ET=Lt.INFO,TT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},bT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=TT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a_{constructor(e){this.name=e,this._logLevel=ET,this._logHandler=bT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const AT=(r,e)=>e.some(i=>r instanceof i);let Py,Hy;function ST(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xT(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s_=new WeakMap,td=new WeakMap,r_=new WeakMap,Gf=new WeakMap,Cd=new WeakMap;function wT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ra(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&s_.set(i,r)}).catch(()=>{}),Cd.set(e,r),e}function RT(r){if(td.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});td.set(r,e)}let ed={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return td.get(r);if(e==="objectStoreNames")return r.objectStoreNames||r_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ra(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CT(r){ed=r(ed)}function NT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Ff(this),e,...i);return r_.set(s,e.sort?e.sort():[e]),Ra(s)}:xT().includes(r)?function(...e){return r.apply(Ff(this),e),Ra(s_.get(this))}:function(...e){return Ra(r.apply(Ff(this),e))}}function DT(r){return typeof r=="function"?NT(r):(r instanceof IDBTransaction&&RT(r),AT(r,ST())?new Proxy(r,ed):r)}function Ra(r){if(r instanceof IDBRequest)return wT(r);if(Gf.has(r))return Gf.get(r);const e=DT(r);return e!==r&&(Gf.set(r,e),Cd.set(e,r)),e}const Ff=r=>Cd.get(r);function VT(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=Ra(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Ra(d.result),v.oldVersion,v.newVersion,Ra(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const IT=["get","getKey","getAll","getAllKeys","count"],MT=["put","add","delete","clear"],Qf=new Map;function Gy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=MT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||IT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Qf.set(e,h),h}CT(r=>({...r,get:(e,i,s)=>Gy(e,i)||r.get(e,i,s),has:(e,i)=>!!Gy(e,i)||r.has(e,i)}));class OT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function zT(r){return r.getComponent()?.type==="VERSION"}const nd="@firebase/app",Fy="0.14.8";const Gi=new a_("@firebase/app"),jT="@firebase/app-compat",UT="@firebase/analytics-compat",LT="@firebase/analytics",kT="@firebase/app-check-compat",BT="@firebase/app-check",qT="@firebase/auth",PT="@firebase/auth-compat",HT="@firebase/database",GT="@firebase/data-connect",FT="@firebase/database-compat",QT="@firebase/functions",YT="@firebase/functions-compat",KT="@firebase/installations",XT="@firebase/installations-compat",ZT="@firebase/messaging",JT="@firebase/messaging-compat",$T="@firebase/performance",WT="@firebase/performance-compat",tb="@firebase/remote-config",eb="@firebase/remote-config-compat",nb="@firebase/storage",ib="@firebase/storage-compat",ab="@firebase/firestore",sb="@firebase/ai",rb="@firebase/firestore-compat",lb="firebase",ob="12.9.0";const id="[DEFAULT]",ub={[nd]:"fire-core",[jT]:"fire-core-compat",[LT]:"fire-analytics",[UT]:"fire-analytics-compat",[BT]:"fire-app-check",[kT]:"fire-app-check-compat",[qT]:"fire-auth",[PT]:"fire-auth-compat",[HT]:"fire-rtdb",[GT]:"fire-data-connect",[FT]:"fire-rtdb-compat",[QT]:"fire-fn",[YT]:"fire-fn-compat",[KT]:"fire-iid",[XT]:"fire-iid-compat",[ZT]:"fire-fcm",[JT]:"fire-fcm-compat",[$T]:"fire-perf",[WT]:"fire-perf-compat",[tb]:"fire-rc",[eb]:"fire-rc-compat",[nb]:"fire-gcs",[ib]:"fire-gcs-compat",[ab]:"fire-fst",[rb]:"fire-fst-compat",[sb]:"fire-vertex","fire-js":"fire-js",[lb]:"fire-js-all"};const lc=new Map,cb=new Map,ad=new Map;function Qy(r,e){try{r.container.addComponent(e)}catch(i){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function oc(r){const e=r.name;if(ad.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,r);for(const i of lc.values())Qy(i,r);for(const i of cb.values())Qy(i,r);return!0}function hb(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function fb(r){return r==null?!1:r.settings!==void 0}const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new i_("app","Firebase",db);class mb{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}const gb=ob;function l_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:id,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ca.create("bad-app-name",{appName:String(o)});if(i||(i=n_()),!i)throw Ca.create("no-options");const h=lc.get(o);if(h){if(rc(i,h.options)&&rc(s,h.config))return h;throw Ca.create("duplicate-app",{appName:o})}const d=new _T(o);for(const v of ad.values())d.addComponent(v);const p=new mb(i,s,d);return lc.set(o,p),p}function pb(r=id){const e=lc.get(r);if(!e&&r===id&&n_())return l_();if(!e)throw Ca.create("no-app",{appName:r});return e}function br(r,e,i){let s=ub[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(d.join(" "));return}oc(new eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const yb="firebase-heartbeat-database",_b=1,no="firebase-heartbeat-store";let Yf=null;function o_(){return Yf||(Yf=VT(yb,_b,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ca.create("idb-open",{originalErrorMessage:r.message})})),Yf}async function vb(r){try{const i=(await o_()).transaction(no),s=await i.objectStore(no).get(u_(r));return await i.done,s}catch(e){if(e instanceof Mr)Gi.warn(e.message);else{const i=Ca.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(i.message)}}}async function Yy(r,e){try{const s=(await o_()).transaction(no,"readwrite");await s.objectStore(no).put(e,u_(r)),await s.done}catch(i){if(i instanceof Mr)Gi.warn(i.message);else{const s=Ca.create("idb-set",{originalErrorMessage:i?.message});Gi.warn(s.message)}}}function u_(r){return`${r.name}!${r.options.appId}`}const Eb=1024,Tb=30;class bb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Sb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ky();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Tb){const o=xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ky(),{heartbeatsToSend:i,unsentEntries:s}=Ab(this._heartbeatsCache.heartbeats),o=sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Gi.warn(e),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function Ab(r,e=Eb){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Xy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Sb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?hT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xy(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function xb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function wb(r){oc(new eo("platform-logger",e=>new OT(e),"PRIVATE")),oc(new eo("heartbeat",e=>new bb(e),"PRIVATE")),br(nd,Fy,r),br(nd,Fy,"esm2020"),br("fire-js","")}wb("");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Na,c_;(function(){var r;function e(C,S){function w(){}w.prototype=S.prototype,C.F=S.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(M,D,j){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return S.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,w){w||(w=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(D=0;D<16;++D)M[D]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=C.g[0],w=C.g[1],D=C.g[2];let j=C.g[3],R;R=S+(j^w&(D^j))+M[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=j+(D^S&(w^D))+M[1]+3905402710&4294967295,j=S+(R<<12&4294967295|R>>>20),R=D+(w^j&(S^w))+M[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=w+(S^D&(j^S))+M[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(j^w&(D^j))+M[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=j+(D^S&(w^D))+M[5]+1200080426&4294967295,j=S+(R<<12&4294967295|R>>>20),R=D+(w^j&(S^w))+M[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=w+(S^D&(j^S))+M[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(j^w&(D^j))+M[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=j+(D^S&(w^D))+M[9]+2336552879&4294967295,j=S+(R<<12&4294967295|R>>>20),R=D+(w^j&(S^w))+M[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=w+(S^D&(j^S))+M[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(j^w&(D^j))+M[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=j+(D^S&(w^D))+M[13]+4254626195&4294967295,j=S+(R<<12&4294967295|R>>>20),R=D+(w^j&(S^w))+M[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=w+(S^D&(j^S))+M[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(D^j&(w^D))+M[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=j+(w^D&(S^w))+M[6]+3225465664&4294967295,j=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(j^S))+M[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=w+(j^S&(D^j))+M[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^j&(w^D))+M[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=j+(w^D&(S^w))+M[10]+38016083&4294967295,j=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(j^S))+M[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=w+(j^S&(D^j))+M[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^j&(w^D))+M[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=j+(w^D&(S^w))+M[14]+3275163606&4294967295,j=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(j^S))+M[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=w+(j^S&(D^j))+M[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^j&(w^D))+M[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=j+(w^D&(S^w))+M[2]+4243563512&4294967295,j=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(j^S))+M[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=w+(j^S&(D^j))+M[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(w^D^j)+M[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=j+(S^w^D)+M[8]+2272392833&4294967295,j=S+(R<<11&4294967295|R>>>21),R=D+(j^S^w)+M[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=w+(D^j^S)+M[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^j)+M[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=j+(S^w^D)+M[4]+1272893353&4294967295,j=S+(R<<11&4294967295|R>>>21),R=D+(j^S^w)+M[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=w+(D^j^S)+M[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^j)+M[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=j+(S^w^D)+M[0]+3936430074&4294967295,j=S+(R<<11&4294967295|R>>>21),R=D+(j^S^w)+M[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=w+(D^j^S)+M[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^j)+M[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=j+(S^w^D)+M[12]+3873151461&4294967295,j=S+(R<<11&4294967295|R>>>21),R=D+(j^S^w)+M[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=w+(D^j^S)+M[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(D^(w|~j))+M[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=j+(w^(S|~D))+M[7]+1126891415&4294967295,j=S+(R<<10&4294967295|R>>>22),R=D+(S^(j|~w))+M[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=w+(j^(D|~S))+M[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~j))+M[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=j+(w^(S|~D))+M[3]+2399980690&4294967295,j=S+(R<<10&4294967295|R>>>22),R=D+(S^(j|~w))+M[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=w+(j^(D|~S))+M[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~j))+M[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=j+(w^(S|~D))+M[15]+4264355552&4294967295,j=S+(R<<10&4294967295|R>>>22),R=D+(S^(j|~w))+M[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=w+(j^(D|~S))+M[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~j))+M[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=j+(w^(S|~D))+M[11]+3174756917&4294967295,j=S+(R<<10&4294967295|R>>>22),R=D+(S^(j|~w))+M[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=w+(j^(D|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}s.prototype.v=function(C,S){S===void 0&&(S=C.length);const w=S-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<S;){if(D==0)for(;j<=w;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(M[D++]=C.charCodeAt(j++),D==this.blockSize){o(this,M),D=0;break}}else for(;j<S;)if(M[D++]=C[j++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)C[S++]=this.g[w]>>>M&255;return C};function h(C,S){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=S(C)}function d(C,S){this.h=S;const w=[];let M=!0;for(let D=C.length-1;D>=0;D--){const j=C[D]|0;M&&j==S||(w[D]=j,M=!1)}this.g=w}var p={};function v(C){return-128<=C&&C<128?h(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return $(_(-C));const S=[];let w=1;for(let M=0;C>=w;M++)S[M]=C/w|0,w*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return $(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let M=x;for(let j=0;j<C.length;j+=8){var D=Math.min(8,C.length-j);const R=parseInt(C.substring(j,j+D),S);D<8?(D=_(Math.pow(S,D)),M=M.j(D).add(_(R))):(M=M.j(w),M=M.add(_(R)))}return M}var x=v(0),O=v(1),Y=v(16777216);r=d.prototype,r.m=function(){if(F(this))return-$(this).m();let C=0,S=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(F(this))return"-"+$(this).toString(C);const S=_(Math.pow(C,6));var w=this;let M="";for(;;){const D=vt(w,S).g;w=ct(w,D.j(S));let j=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=D,W(w))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function F(C){return C.h==-1}r.l=function(C){return C=ct(this,C),F(C)?-1:W(C)?0:1};function $(C){const S=C.g.length,w=[];for(let M=0;M<S;M++)w[M]=~C.g[M];return new d(w,~C.h).add(O)}r.abs=function(){return F(this)?$(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),w=[];let M=0;for(let D=0;D<=S;D++){let j=M+(this.i(D)&65535)+(C.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,j&=65535,R&=65535,w[D]=R<<16|j}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ct(C,S){return C.add($(S))}r.j=function(C){if(W(this)||W(C))return x;if(F(this))return F(C)?$(this).j($(C)):$($(this).j(C));if(F(C))return $(this.j($(C)));if(this.l(Y)<0&&C.l(Y)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,w=[];for(var M=0;M<2*S;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const j=this.i(M)>>>16,R=this.i(M)&65535,te=C.i(D)>>>16,fe=C.i(D)&65535;w[2*M+2*D]+=R*fe,dt(w,2*M+2*D),w[2*M+2*D+1]+=j*fe,dt(w,2*M+2*D+1),w[2*M+2*D+1]+=R*te,dt(w,2*M+2*D+1),w[2*M+2*D+2]+=j*te,dt(w,2*M+2*D+2)}for(C=0;C<S;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=S;C<2*S;C++)w[C]=0;return new d(w,0)};function dt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function gt(C,S){this.g=C,this.h=S}function vt(C,S){if(W(S))throw Error("division by zero");if(W(C))return new gt(x,x);if(F(C))return S=vt($(C),S),new gt($(S.g),$(S.h));if(F(S))return S=vt(C,$(S)),new gt($(S.g),S.h);if(C.g.length>30){if(F(C)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var w=O,M=S;M.l(C)<=0;)w=ot(w),M=ot(M);var D=pt(w,1),j=pt(M,1);for(M=pt(M,2),w=pt(w,2);!W(M);){var R=j.add(M);R.l(C)<=0&&(D=D.add(w),j=R),M=pt(M,1),w=pt(w,1)}return S=ct(C,D.j(S)),new gt(D,S)}for(D=x;C.l(S)>=0;){for(w=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=_(w),R=j.j(S);F(R)||R.l(C)>0;)w-=M,j=_(w),R=j.j(S);W(j)&&(j=O),D=D.add(j),C=ct(C,R)}return new gt(D,C)}r.B=function(C){return vt(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)&C.i(M);return new d(w,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)|C.i(M);return new d(w,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)^C.i(M);return new d(w,this.h^C.h)};function ot(C){const S=C.g.length+1,w=[];for(let M=0;M<S;M++)w[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(w,C.h)}function pt(C,S){const w=S>>5;S%=32;const M=C.g.length-w,D=[];for(let j=0;j<M;j++)D[j]=S>0?C.i(j+w)>>>S|C.i(j+w+1)<<32-S:C.i(j+w);return new d(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,c_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Na=d}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var h_,Ql,f_,$u,sd,d_,m_,g_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function x(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[U].apply(T,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const q=U.length||0;u.length=y+q;for(let tt=0;tt<q;tt++)u[y+tt]=U[tt]}else u.push(U)}}class F{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,y){const T=gt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new F(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,pt=!1,C=new dt,S=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(w)}};function w(){for(var u;u=ct();){try{u.h.call(u.g)}catch(y){$(y)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}pt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(te,D),te.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Pt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let q=0;q<Q.length;q++)y=Q[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,y,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=xt(u,m,T,U);return tt>-1?(m=u[tt],y||(m.fa=!1)):(m=new et(m,this.src,q,!!T,U),m.fa=y,u.push(m)),m};function _t(u,m){const y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function xt(u,m,y,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return U}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,y,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(u,m[q],y,T,U);return null}return y=qr(y),u&&u[fe]?u.J(m,y,p(T)?!!T.capture:!1,U):qa(u,m,y,!1,T,U)}function qa(u,m,y,T,U,q){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let At=Pa(u);if(At||(u[jt]=At=new st(u)),y=At.add(m,y,T,tt,q),y.proxy)return y;if(T=Cs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)j||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Cs(){function u(y){return m.call(u.src,u.listener,y)}const m=kr;return u}function Ns(u,m,y,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ns(u,m[q],y,T,U);else T=p(T)?!!T.capture:!!T,y=qr(y),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=xt(m,y,T,U),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Pa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,y,T,U)),(y=u>-1?m[u]:null)&&Ds(y))}function Ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])_t(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Zn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Pa(m))?(_t(y,u),y.h==0&&(y.src=null,m[jt]=null)):ut(u)}}}function Zn(u){return u in De?De[u]:De[u]="on"+u}function kr(u,m){if(u.da)u=!0;else{m=new te(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Ds(u),u=y.call(T,m)}return u}function Pa(u){return u=u[jt],u instanceof st?u:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(u){return typeof u=="function"?u:(u[Br]||(u[Br]=function(m){return u.handleEvent(m)}),u[Br])}function _e(){M.call(this),this.i=new st(this),this.M=this,this.G=null}x(_e,M),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,y,T){Ns(this,u,m,y,T)};function Ve(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),nt(m,U)}U=!0;let q,tt;if(y)for(tt=y.length-1;tt>=0;tt--)q=m.g=y[tt],U=Yi(q,T,!0,m)&&U;if(q=m.g=u,U=Yi(q,T,!0,m)&&U,U=Yi(q,T,!1,m)&&U,y)for(tt=0;tt<y.length;tt++)q=m.g=y[tt],U=Yi(q,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ut(y[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},_e.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Yi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==y){const At=tt.listener,me=tt.ha||tt.src;tt.fa&&_t(u.i,tt),U=At.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function kc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _o(u){u.g=kc(()=>{u.g=null,u.i&&(u.i=!1,_o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ha(u){M.call(this),this.h=u,this.g={}}x(Ha,M);var Pr=[];function Hr(u){Nt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ds(m)},u),u.g={}}Ha.prototype.N=function(){Ha.Z.N.call(this),Hr(this)},Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=d.JSON.stringify,Bc=d.JSON.parse,vo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Eo(){}function To(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}x(Le,D);function En(){D.call(this,"c")}x(En,D);var de={},bo=null;function Vs(){return bo=bo||new _e}de.Ia="serverreachability";function Ao(u){D.call(this,de.Ia,u)}x(Ao,D);function Jn(u){const m=Vs();Ve(m,new Ao(m))}de.STAT_EVENT="statevent";function Ga(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}x(Ga,D);function ve(u){const m=Vs();Ve(m,new Ga(m,u))}de.Ja="timingevent";function $n(u,m){D.call(this,de.Ja,u),this.size=m}x($n,D);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function qc(u,m,y,T,U,q){u.info(function(){if(u.g)if(q){var tt="",At=q.split("&");for(let Ht=0;Ht<At.length;Ht++){var me=At[Ht].split("=");if(me.length>1){const re=me[0];me=me[1];const Sn=re.split("_");tt=Sn.length>=2&&Sn[1]=="type"?tt+(re+"="+me+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+tt})}function So(u,m,y,T,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+tt})}function ti(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pc(u,y)+(T?" "+T:"")})}function Fa(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Pc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Ki(q)}catch{return m}}var Qa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fr;function Ya(){}x(Ya,Eo),Ya.prototype.g=function(){return new XMLHttpRequest},Fr=new Ya;function Si(u){return encodeURIComponent(String(u))}function xo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Ln(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var Ee={},Oe={};function ei(u,m,y){u.M=1,u.A=Ka(be(m)),u.u=y,u.R=!0,Is(u,null)}function Is(u,m){u.F=Date.now(),ni(u),u.B=be(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),js(y.i,"t",T),u.C=0,y=u.j.L,u.h=new kn,u.g=Bo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Pr[0]=U.toString()),U=Pr);for(let q=0;q<U.length;q++){const tt=se(y,U[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),qc(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&Pn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const At=Pn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||At!=4||me==7||(me==8||Ht<=0?Jn(3):Jn(2)),ii(this);var m=this.g.ca();this.X=m;var y=Hc(this);if(this.o=m==200,So(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ve(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<y.length;)if(re=Ro(this,y),re==Oe){At==4&&(this.m=4,ve(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(re==Ee){this.m=4,ve(15),ti(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,re,null),ai(this,re);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||y.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),rl(tt),tt.P=!0,ve(11))}}else ti(this.i,this.l,y,null),ai(this,y);At==4&&cn(this),this.o&&!this.K&&(At==4?jo(this.j,this):(this.o=!1,ni(this)))}else wi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),cn(this),Tn(this)}}}catch{}};function Hc(u){if(!wo(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const T=m.length,U=Pn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ro(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Oe:(y=Number(m.substring(y,T)),isNaN(y)?Ee:(T+=1,T+y>m.length?Oe:(m=m.slice(T,T+y),u.C=T+y,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function ni(u){u.T=Date.now()+u.H,Ms(u,u.H)}function Ms(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(_(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Fa(this.i,this.B),this.M!=2&&(Jn(),ve(17)),cn(this),this.m=2,Tn(this)):Ms(this,this.T-u)};function Tn(u){u.j.I==0||u.K||jo(u.j,u)}function cn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Hr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ri(y.h,u))){if(!u.L&&ri(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)qs(y),na(y);else break t;es(y),ve(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Wn(_(y.Va,y),6e3));si(y.h)<=1&&y.ta&&(y.ta=void 0)}else fi(y,11)}else if((u.L||y.g==u)&&qs(y),!R(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const re=Ht[0];if(!(re<=y.K))if(y.K=re,Ht=Ht[1],y.I==2)if(Ht[0]=="c"){y.M=Ht[1],y.ba=Ht[2];const Sn=Ht[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const di=Ht[4];di!=null&&(y.za=di,y.j.info("SVER="+y.za));const Hn=Ht[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Gn=u.g;if(Gn){const ns=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var q=T.h;q.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Kr(q,q.h),q.h=null))}if(T.G){const Ps=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(T.wa=Ps,Qt(T.J,T.G,Ps))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var tt=u;if(T.na=ko(T,T.L?T.ba:null,T.W),tt.L){Xr(T.h,tt);var At=tt,me=T.O;me&&(At.H=me),At.D&&(ii(At),ni(At)),T.g=tt}else Oo(T);y.i.length>0&&hi(y)}else Ht[0]!="stop"&&Ht[0]!="close"||fi(y,7);else y.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?fi(y,7):al(y):Ht[0]!="noop"&&y.l&&y.l.qa(Ht),y.A=0)}}Jn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function Qr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Kr(u,m){u.g?u.g.add(m):u.h=m}function Xr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Qr.prototype.cancel=function(){if(this.i=Zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Y(u.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let U,q=null;T>=0?(U=u[y].substring(0,T),q=u[y].substring(T+1)):U=u[y],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.u),this.h=u.h,Jr(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(Co))?(this.l=!1,ze(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),Xi(this,m[4]),this.h=li(m[5]||"",!0),Jr(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new Ji(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Xa(m,zs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xa(m,zs,!0),"@"),u.push(Si(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Xa(y,y.charAt(0)=="/"?$r:No,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Xa(y,Do)),u.join("")},hn.prototype.resolve=function(u){const m=be(this);let y=!!u.j;y?ze(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)Xi(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let tt=0;tt<U.length;){const At=U[tt++];At=="."?T&&tt==U.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==U.length&&q.push("")):(q.push(At),T=!0)}T=q.join("/")}else T=U}return y?m.h=T:y=u.i.toString()!=="",y?Jr(m,Io(u.i)):y=!!u.m,y&&(m.m=u.m),m};function be(u){return new hn(u)}function ze(u,m,y){u.j=y?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Jr(u,m,y){m instanceof Ji?(u.i=m,Us(u.i,u.l)):(y||(m=Xa(m,Zi)),u.i=new Ji(m,u.l))}function Qt(u,m,y){u.i.set(m,y)}function Ka(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xa(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zs=/[#\/\?@]/g,No=/[#\?:]/g,$r=/[#\?]/g,Zi=/[#\?@]/g,Do=/#/g;function Ji(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Os(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ji.prototype,r.add=function(u,m){en(this),this.i=null,u=$i(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Vo(u,m){en(u),m=$i(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Wr(u,m){return en(u),m=$i(u,m),u.g.has(m)}r.forEach=function(u,m){en(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)};function tl(u,m){en(u);let y=[];if(typeof m=="string")Wr(u,m)&&(y=y.concat(u.g.get($i(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return en(this),this.i=null,u=$i(this,u),Wr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=tl(this,u),u.length>0?String(u[0]):m):m};function js(u,m,y){Vo(u,m),y.length>0&&(u.i=null,u.g.set($i(u,m),Y(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const U=Si(y);y=tl(this,y);for(let q=0;q<y.length;q++){let tt=U;y[q]!==""&&(tt+="="+Si(y[q])),u.push(tt)}}return this.i=u.join("&")};function Io(u){const m=new Ji;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function $i(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Us(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,T){const U=T.toLowerCase();T!=U&&(Vo(this,T),js(this,U,y))},u)),u.j=m}function Bn(u,m){const y=new Un;if(d.Image){const T=new Image;T.onload=b(bn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(bn,y,"TestLoadImage: error",!1,m,T),T.onabort=b(bn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(bn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function el(u,m){const y=new Un,T=new AbortController,U=setTimeout(()=>{T.abort(),bn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?bn(y,"TestPingServer: ok",!0,m):bn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(y,"TestPingServer: error",!1,m)})}function bn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function Wi(){this.g=new vo}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(oi,Eo),oi.prototype.g=function(){return new Za(this.i,this.h)};function Za(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Za,_e),r=Za.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ls(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ls(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ta(this):qn(this),this.readyState==3&&Ls(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ta(this))},r.Na=function(u){this.g&&(this.response=u,ta(this))},r.ga=function(){this.g&&ta(this)};function ta(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Nt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ja(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=An(y),typeof u=="string"?y!=null&&Si(y):Qt(u,m,y))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Xt,_e);var ui=/^https?$/i,nl=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fr.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){$a(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(nl,m,void 0)>=0)||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of y)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){$a(this,q)}};function $a(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,il(u),xi(u)}function il(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Wa(this):this.Xa())},r.Xa=function(){Wa(this)};function Wa(u){if(u.h&&typeof h<"u"){if(u.v&&Pn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let tt=String(u.D).match(Co)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!ui.test(tt?tt.toLowerCase():"")}y=T}if(y)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var U=Pn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",il(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ve(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bc(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(u){const m={};u=(u.g&&Pn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=xo(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}Pt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ea(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Qr(u&&u.concurrentRequestLimit),this.Ba=new Wi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ea.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){ve(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=ko(this,null,this.W),hi(this)};function al(u){if(ks(u),u.I==3){var m=u.V++,y=be(u.J);if(Qt(y,"SID",u.M),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),ts(u,y),m=new Ln(u,u.j,m),m.M=2,m.A=Ka(be(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Bo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}Lo(u)}function na(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function ks(u){na(u),u.v&&(d.clearTimeout(u.v),u.v=null),qs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!Yr(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||S(),pt||(ot(),pt=!0),C.add(m,u),u.D=0}}function Bs(u,m){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(_(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ln(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Mo(this,U,m),y=be(this.J),Qt(y,"RID",u),Qt(y,"CVER",22),this.G&&Qt(y,"X-HTTP-Session-Id",this.G),ts(this,y),q&&(this.R?m="headers="+Si(An(q))+"&"+m:this.u&&Ja(y,this.u,q)),Kr(this.h,U),this.Ra&&Qt(y,"TYPE","init"),this.S?(Qt(y,"$req",m),Qt(y,"SID","null"),U.U=!0,ei(U,y,null)):ei(U,y,m),this.I=2}}else this.I==3&&(u?sl(this,u):this.i.length==0||Yr(this.h)||sl(this))};function sl(u,m){var y;m?y=m.l:y=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",y),Qt(T,"AID",u.K),ts(u,T),u.u&&u.o&&Ja(T,u.u,u.o),y=new Ln(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Mo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Kr(u.h,y),ei(y,T,m)}function ts(u,m){u.H&&Nt(u.H,function(y,T){Qt(m,T,y)}),u.l&&Nt({},function(y,T){Qt(m,T,y)})}function Mo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const me=["count="+y];At==-1?y>0?(At=U[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let Ht=!0;for(let re=0;re<y;re++){var q=U[re].g;const Sn=U[re].map;if(q-=At,q<0)At=Math.max(0,U[re].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var tt=Sn instanceof Map?Sn:Object.entries(Sn);for(const[di,Hn]of tt){let Gn=Hn;p(Hn)&&(Gn=Ki(Hn)),me.push(q+di+"="+encodeURIComponent(Gn))}}catch(di){throw me.push(q+"type="+encodeURIComponent("_badmap")),di}}catch{T&&T(Sn)}}if(Ht){tt=me.join("&");break t}}tt=void 0}return u=u.i.splice(0,y),m.G=u,tt}function Oo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||S(),pt||(ot(),pt=!0),C.add(m,u),u.A=0}}function es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(_(u.Da,u),Uo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),na(this),zo(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function zo(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),ts(u,m),u.u&&u.o&&Ja(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Ka(be(m)),y.u=null,y.R=!0,Is(y,u)}r.Va=function(){this.C!=null&&(this.C=null,na(this),es(this),ve(19))};function qs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function jo(u,m){var y=null;if(u.g==m){qs(u),rl(u),u.g=null;var T=2}else if(ri(u.h,m))y=m.G,Xr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Vs(),Ve(T,new $n(T,y)),hi(u)}else Oo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Bs(u,m)||T==2&&es(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function Uo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const U=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),Ka(T),U?Bn(T.toString(),y):el(T.toString(),y)}else ve(2);u.I=0,u.l&&u.l.pa(m),Lo(u),ks(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Zr(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function ko(u,m,y){var T=y instanceof hn?be(y):new hn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new hn(null);T&&ze(q,T),m&&(q.g=m),U&&Xi(q,U),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&Qt(T,y,m),Qt(T,"VER",u.ka),ts(u,T),T}function Bo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new oi({ab:y})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qo(){}r=qo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ia(){}ia.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){_e.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}x($e,_e),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){al(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Ki(u),u=y);m.i.push(new Te(m.Ya++,u)),m.I==3&&hi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,$e.Z.N.call(this)};function Po(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Po,Le);function Ho(){En.call(this),this.status=1}x(Ho,En);function Ri(u){this.g=u}x(Ri,qo),Ri.prototype.ra=function(){Ve(this.g,"a")},Ri.prototype.qa=function(u){Ve(this.g,new Po(u))},Ri.prototype.pa=function(u){Ve(this.g,new Ho)},Ri.prototype.oa=function(){Ve(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,g_=function(){return new ia},m_=function(){return Vs()},d_=de,sd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qa.NO_ERROR=0,Qa.TIMEOUT=8,Qa.HTTP_ERROR=6,$u=Qa,Gr.COMPLETE="complete",f_=Gr,To.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Ql=To,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,h_=Xt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});let Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Or="12.9.0";function Rb(r){Or=r}const bs=new a_("@firebase/firestore");function _r(){return bs.logLevel}function at(r,...e){if(bs.logLevel<=Lt.DEBUG){const i=e.map(Nd);bs.debug(`Firestore (${Or}): ${r}`,...i)}}function Fi(r,...e){if(bs.logLevel<=Lt.ERROR){const i=e.map(Nd);bs.error(`Firestore (${Or}): ${r}`,...i)}}function As(r,...e){if(bs.logLevel<=Lt.WARN){const i=e.map(Nd);bs.warn(`Firestore (${Or}): ${r}`,...i)}}function Nd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,p_(r,s,i)}function p_(r,e,i){let s=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Fi(s),new Error(s)}function Ft(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||p_(e,o,s)}function bt(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Mr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Da{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class y_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class Nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Db{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Da,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Da)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new y_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class Vb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ib{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Vb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ob(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ob(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function It(r,e){return r<e?-1:r>e?1:0}function rd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return Kf(o)===Kf(h)?It(o,h):Kf(o)?1:-1}return It(r.length,e.length)}const zb=55296,jb=57343;function Kf(r){const e=r.charCodeAt(0);return e>=zb&&e<=jb}function Rr(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const $y="__name__";class _i{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&yt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=_i.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const s=_i.isNumericId(e),o=_i.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class ee extends _i{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends _i{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return Ub.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new Fe([$y])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ee.fromString(e))}static fromName(e){return new ft(ee.fromString(e).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ee(e.slice()))}}function __(r,e,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lb(r,e,i,s){if(e===!0&&s===!0)throw new it(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Wy(r){if(!ft.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function t0(r){if(ft.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function v_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ec(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function On(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ec(r);throw new it(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ne(r,e){const i={typeString:r};return e&&(i.value=e),i}function ho(r,e){if(!v_(r))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const e0=-62135596800,n0=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*n0);return new ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e0)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ho(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ae(0,0))}static max(){return new Et(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const io=-1;function kb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new Ia(o,ft.empty(),e)}function Bb(r){return new Ia(r.readTime,r.key,io)}class Ia{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ia(Et.min(),ft.empty(),io)}static max(){return new Ia(Et.max(),ft.empty(),io)}}function qb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:It(r.largestBatchId,e.largestBatchId))}const Pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zr(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Pb)throw r;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,s)=>{i(e)}))}static reject(e){return new J(((i,s)=>{s(e)}))}static waitFor(e){return new J(((i,s)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next((o=>o?J.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new J(((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((b=>{d[_]=b,++p,p===h&&s(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new J(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function Gb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function jr(r){return r.name==="IndexedDbTransactionError"}class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tc.ce=-1;const Vd=-1;function bc(r){return r==null}function uc(r){return r===0&&1/r==-1/0}function Fb(r){return typeof r=="number"&&Number.isInteger(r)&&!uc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const E_="";function Qb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=i0(e)),e=Yb(r.get(i),e);return i0(e)}function Yb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case E_:i+="";break;default:i+=h}}return i}function i0(r){return r+E_+""}function a0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ka(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function T_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class b_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new b_("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=Kb.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const A_="server_timestamp",S_="__type__",x_="__previous_value__",w_="__local_write_time__";function Id(r){return(r?.mapValue?.fields||{})[S_]?.stringValue===A_}function Ac(r){const e=r.mapValue.fields[x_];return Id(e)?Ac(e):e}function ao(r){const e=Ma(r.mapValue.fields[w_].timestampValue);return new ae(e.seconds,e.nanos)}class Xb{constructor(e,i,s,o,h,d,p,v,_,b,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=x}}const cc="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||cc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}function Zb(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(r.options.projectId,e)}const R_="__type__",Jb="__max__",Xu={mapValue:{}},C_="__vector__",hc="value";function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Id(r)?4:Wb(r)?9007199254740991:$b(r)?10:11:yt(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const i=za(r);if(i!==za(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ma(o.timestampValue),p=Ma(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Oa(o.bytesValue).isEqual(Oa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ye(o.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ye(o.integerValue)===ye(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ye(o.doubleValue),p=ye(h.doubleValue);return d===p?uc(d)===uc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Rr(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(a0(d)!==a0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ai(d[v],p[v])))return!1;return!0})(r,e);default:return yt(52216,{left:r})}}function ro(r,e){return(r.values||[]).find((i=>Ai(i,e)))!==void 0}function Cr(r,e){if(r===e)return 0;const i=za(r),s=za(e);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=ye(h.integerValue||h.doubleValue),v=ye(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return r0(r.timestampValue,e.timestampValue);case 4:return r0(ao(r),ao(e));case 5:return rd(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=Oa(h),v=Oa(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const b=It(p[_],v[_]);if(b!==0)return b}return It(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=It(ye(h.latitude),ye(d.latitude));return p!==0?p:It(ye(h.longitude),ye(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return l0(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[hc]?.arrayValue,b=v[hc]?.arrayValue,x=It(_?.values?.length||0,b?.values?.length||0);return x!==0?x:l0(_,b)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Xu.mapValue&&d===Xu.mapValue)return 0;if(h===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let x=0;x<v.length&&x<b.length;++x){const O=rd(v[x],b[x]);if(O!==0)return O;const Y=Cr(p[v[x]],_[b[x]]);if(Y!==0)return Y}return It(v.length,b.length)})(r.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function r0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return It(r,e);const i=Ma(r),s=Ma(e),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function l0(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Cr(i[o],s[o]);if(h)return h}return It(i.length,s.length)}function Nr(r){return ld(r)}function ld(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ma(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Oa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=ld(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${ld(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Wu(r){switch(za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ac(r);return e?16+Wu(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Wu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ka(s.fields,((h,d)=>{o+=h.length+Wu(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function o0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function od(r){return!!r&&"integerValue"in r}function Md(r){return!!r&&"arrayValue"in r}function u0(r){return!!r&&"nullValue"in r}function c0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function tc(r){return!!r&&"mapValue"in r}function $b(r){return(r?.mapValue?.fields||{})[R_]?.stringValue===C_}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ka(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return{...r}}function Wb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Jb}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Jl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ka(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new un(Jl(this.value))}}function N_(r){const e=[];return ka(r.fields,((i,s)=>{const o=new Fe([i]);if(tc(s)){const h=N_(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new vn(e)}class Ze{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ze(e,0,Et.min(),Et.min(),Et.min(),un.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,Et.min(),Et.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,Et.min(),Et.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(e,i){this.position=e,this.inclusive=i}}function h0(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=Cr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function f0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}class lo{constructor(e,i="asc"){this.field=e,this.dir=i}}function t2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class D_{}class Ce extends D_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new n2(e,i,s):i==="array-contains"?new s2(e,s):i==="in"?new r2(e,s):i==="not-in"?new l2(e,s):i==="array-contains-any"?new o2(e,s):new Ce(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new i2(e,s):new a2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cr(i,this.value)):i!==null&&za(this.value)===za(i)&&this.matchesComparison(Cr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends D_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xn(e,i)}matches(e){return V_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V_(r){return r.op==="and"}function I_(r){return e2(r)&&V_(r)}function e2(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function ud(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Nr(r.value);if(I_(r))return r.filters.map((e=>ud(e))).join(",");{const e=r.filters.map((i=>ud(i))).join(",");return`${r.op}(${e})`}}function M_(r,e){return r instanceof Ce?(function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)})(r,e):r instanceof Xn?(function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,p)=>h&&M_(d,o.filters[p])),!0):!1})(r,e):void yt(19439)}function O_(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Nr(i.value)}`})(r):r instanceof Xn?(function(i){return i.op.toString()+" {"+i.getFilters().map(O_).join(" ,")+"}"})(r):"Filter"}class n2 extends Ce{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class i2 extends Ce{constructor(e,i){super(e,"in",i),this.keys=z_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class a2 extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=z_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function z_(r,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class s2 extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Md(i)&&ro(i.arrayValue,this.value)}}class r2 extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class l2 extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ro(this.value.arrayValue,i)}}class o2 extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Md(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ro(this.value.arrayValue,s)))}}class u2{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function d0(r,e=null,i=[],s=[],o=null,h=null,d=null){return new u2(r,e,i,s,o,h,d)}function Od(r){const e=bt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ud(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Nr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Nr(s))).join(",")),e.Te=i}return e.Te}function zd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!t2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!M_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!f0(r.startAt,e.startAt)&&f0(r.endAt,e.endAt)}function cd(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ur{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function c2(r,e,i,s,o,h,d,p){return new Ur(r,e,i,s,o,h,d,p)}function Sc(r){return new Ur(r)}function m0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function h2(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function j_(r){return r.collectionGroup!==null}function $l(r){const e=bt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new lo(h,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new lo(Fe.keyField(),s))}return e.Ie}function vi(r){const e=bt(r);return e.Ee||(e.Ee=f2(e,$l(r))),e.Ee}function f2(r,e){if(r.limitType==="F")return d0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new lo(o.field,h)}));const i=r.endAt?new fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fc(r.startAt.position,r.startAt.inclusive):null;return d0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function hd(r,e){const i=r.filters.concat([e]);return new Ur(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function d2(r,e){const i=r.explicitOrderBy.concat([e]);return new Ur(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function fd(r,e,i){return new Ur(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function xc(r,e){return zd(vi(r),vi(e))&&r.limitType===e.limitType}function U_(r){return`${Od(vi(r))}|lt:${r.limitType}`}function vr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>O_(o))).join(", ")}]`),bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Nr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Nr(o))).join(",")),`Target(${s})`})(vi(r))}; limitType=${r.limitType})`}function wc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of $l(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const _=h0(d,p,v);return d.inclusive?_<=0:_<0})(s.startAt,$l(s),o)||s.endAt&&!(function(d,p,v){const _=h0(d,p,v);return d.inclusive?_>=0:_>0})(s.endAt,$l(s),o))})(r,e)}function m2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L_(r){return(e,i)=>{let s=!1;for(const o of $l(r)){const h=g2(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function g2(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Cr(v,_):yt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}class xs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return T_(this.inner)}size(){return this.innerSize}}const p2=new oe(ft.comparator);function Qi(){return p2}const k_=new oe(ft.comparator);function Yl(...r){let e=k_;for(const i of r)e=e.insert(i.key,i);return e}function B_(r){let e=k_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Es(){return Wl()}function q_(){return Wl()}function Wl(){return new xs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const y2=new oe(ft.comparator),_2=new Me(ft.comparator);function Mt(...r){let e=_2;for(const i of r)e=e.add(i);return e}const v2=new Me(It);function E2(){return v2}function jd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function P_(r){return{integerValue:""+r}}function T2(r,e){return Fb(e)?P_(e):jd(r,e)}class Rc{constructor(){this._=void 0}}function b2(r,e,i){return r instanceof oo?(function(o,h){const d={fields:{[S_]:{stringValue:A_},[w_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Id(h)&&(h=Ac(h)),h&&(d.fields[x_]=h),{mapValue:d}})(i,e):r instanceof uo?G_(r,e):r instanceof co?F_(r,e):(function(o,h){const d=H_(o,h),p=g0(d)+g0(o.Ae);return od(d)&&od(o.Ae)?P_(p):jd(o.serializer,p)})(r,e)}function A2(r,e,i){return r instanceof uo?G_(r,e):r instanceof co?F_(r,e):i}function H_(r,e){return r instanceof dc?(function(s){return od(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class oo extends Rc{}class uo extends Rc{constructor(e){super(),this.elements=e}}function G_(r,e){const i=Q_(e);for(const s of r.elements)i.some((o=>Ai(o,s)))||i.push(s);return{arrayValue:{values:i}}}class co extends Rc{constructor(e){super(),this.elements=e}}function F_(r,e){let i=Q_(e);for(const s of r.elements)i=i.filter((o=>!Ai(o,s)));return{arrayValue:{values:i}}}class dc extends Rc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function g0(r){return ye(r.integerValue||r.doubleValue)}function Q_(r){return Md(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class S2{constructor(e,i){this.field=e,this.transform=i}}function x2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof uo&&o instanceof uo||s instanceof co&&o instanceof co?Rr(s.elements,o.elements,Ai):s instanceof dc&&o instanceof dc?Ai(s.Ae,o.Ae):s instanceof oo&&o instanceof oo})(r.transform,e.transform)}class w2{constructor(e,i){this.version=e,this.transformResults=i}}class zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cc{}function Y_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ud(r.key,zn.none()):new fo(r.key,r.data,zn.none());{const i=r.data,s=un.empty();let o=new Me(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ba(r.key,s,new vn(o.toArray()),zn.none())}}function R2(r,e,i){r instanceof fo?(function(o,h,d){const p=o.value.clone(),v=y0(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ba?(function(o,h,d){if(!ec(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=y0(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(K_(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function to(r,e,i,s){return r instanceof fo?(function(h,d,p,v){if(!ec(h.precondition,d))return p;const _=h.value.clone(),b=_0(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ba?(function(h,d,p,v){if(!ec(h.precondition,d))return p;const _=_0(h.fieldTransforms,v,d),b=d.data;return b.setAll(K_(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(r,e,i,s):(function(h,d,p){return ec(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function C2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=H_(s.transform,o||null);h!=null&&(i===null&&(i=un.empty()),i.set(s.field,h))}return i||null}function p0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rr(s,o,((h,d)=>x2(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fo extends Cc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ba extends Cc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function K_(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function y0(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,A2(d,p,i[o]))}return s}function _0(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,b2(h,d,e))}return s}class Ud extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N2 extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&R2(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=q_();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=Y_(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Rr(this.mutations,e.mutations,((i,s)=>p0(i,s)))&&Rr(this.baseMutations,e.baseMutations,((i,s)=>p0(i,s)))}}class Ld{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return y2})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Ld(e,i,s,o)}}class V2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,Ut;function M2(r){switch(r){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function X_(r){if(r===void 0)return Fi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Re.OK:return X.OK;case Re.CANCELLED:return X.CANCELLED;case Re.UNKNOWN:return X.UNKNOWN;case Re.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Re.INTERNAL:return X.INTERNAL;case Re.UNAVAILABLE:return X.UNAVAILABLE;case Re.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Re.NOT_FOUND:return X.NOT_FOUND;case Re.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Re.ABORTED:return X.ABORTED;case Re.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Re.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:r})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function O2(){return new TextEncoder}const z2=new Na([4294967295,4294967295],0);function v0(r){const e=O2().encode(r),i=new c_;return i.update(e),new Uint8Array(i.digest())}function E0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Na([i,s],0),new Na([o,h],0)]}class kd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Na.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Na.fromNumber(s)));return o.compare(z2)===1&&(o=new Na([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v0(e),[s,o]=E0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new kd(h,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=v0(e),[s,o]=E0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Nc(Et.min(),o,new oe(It),Qi(),Mt())}}class mo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new mo(s,i,Mt(),Mt(),Mt())}}class nc{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Z_{constructor(e,i){this.targetId=e,this.Ce=i}}class J_{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class T0{constructor(){this.ve=0,this.Fe=b0(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:h})}})),new mo(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=b0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class j2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.He=Zu(),this.Je=Zu(),this.Ze=new oe(It)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(cd(h))if(s===0){const d=new ft(h.path);this.et(i,d,Ze.newNoDocument(d,Et.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Oa(s).toUint8Array()}catch(v){if(v instanceof b_)return As("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new kd(d,o,h)}catch(v){return As(v instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&cd(p.target)){const v=new ft(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let s=Mt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Nc(e,i,this.Ze,this.je,s);return this.je=Qi(),this.He=Zu(),this.Je=Zu(),this.Ze=new oe(It),o}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new T0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Me(It),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Me(It),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Zu(){return new oe(ft.comparator)}function b0(){return new oe(ft.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},L2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2={and:"AND",or:"OR"};class B2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dd(r,e){return r.useProto3Json||bc(e)?e:{value:e}}function mc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function q2(r,e){return mc(r,e.toTimestamp())}function Ei(r){return Ft(!!r,49232),Et.fromTimestamp((function(i){const s=Ma(i);return new ae(s.seconds,s.nanos)})(r))}function Bd(r,e){return md(r,e).canonicalString()}function md(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function W_(r){const e=ee.fromString(r);return Ft(av(e),10190,{key:e.toString()}),e}function gd(r,e){return Bd(r.databaseId,e.path)}function Xf(r,e){const i=W_(e);if(i.get(1)!==r.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(ev(i))}function tv(r,e){return Bd(r.databaseId,e)}function P2(r){const e=W_(r);return e.length===4?ee.emptyPath():ev(e)}function pd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ev(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function A0(r,e,i){return{name:gd(r,e),fields:i.value.mapValue.fields}}function H2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Qe.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qe.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?X.UNKNOWN:X_(_.code);return new it(b,_.message||"")})(d);i=new J_(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Xf(r,s.document.name),h=Ei(s.document.updateTime),d=s.document.createTime?Ei(s.document.createTime):Et.min(),p=new un({mapValue:{fields:s.document.fields}}),v=Ze.newFoundDocument(o,h,d,p),_=s.targetIds||[],b=s.removedTargetIds||[];i=new nc(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Xf(r,s.document),h=s.readTime?Ei(s.readTime):Et.min(),d=Ze.newNoDocument(o,h),p=s.removedTargetIds||[];i=new nc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Xf(r,s.document),h=s.removedTargetIds||[];i=new nc([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new I2(o,h),p=s.targetId;i=new Z_(p,d)}}return i}function G2(r,e){let i;if(e instanceof fo)i={update:A0(r,e.key,e.value)};else if(e instanceof Ud)i={delete:gd(r,e.key)};else if(e instanceof Ba)i={update:A0(r,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof N2))return yt(16599,{dt:e.type});i={verify:gd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const p=d.transform;if(p instanceof oo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:q2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(r,e.precondition)),i}function F2(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?Ei(o.updateTime):Ei(h);return d.isEqual(Et.min())&&(d=Ei(h)),new w2(d,o.transformResults||[])})(i,e)))):[]}function Q2(r,e){return{documents:[tv(r,e.path)]}}function Y2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=tv(r,o);const h=(function(_){if(_.length!==0)return iv(Xn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(O){return{field:Er(O.field),direction:Z2(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function K2(r){let e=P2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(x){const O=nv(x);return O instanceof Xn&&I_(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((O=>(function(W){return new lo(Tr(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let O;return O=typeof x=="object"?x.value:x,bc(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(x){const O=!!x.before,Y=x.values||[];return new fc(Y,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const O=!x.before,Y=x.values||[];return new fc(Y,O)})(i.endAt)),c2(e,o,d,h,p,"F",v,_)}function X2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function nv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Tr(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Tr(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Tr(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Tr(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Tr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xn.create(i.compositeFilter.filters.map((s=>nv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function Z2(r){return U2[r]}function J2(r){return L2[r]}function $2(r){return k2[r]}function Er(r){return{fieldPath:r.canonicalString()}}function Tr(r){return Fe.fromServerFormat(r.fieldPath)}function iv(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(c0(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NAN"}};if(u0(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(c0(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NOT_NAN"}};if(u0(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er(i.field),op:J2(i.op),value:i.value}}})(r):r instanceof Xn?(function(i){const s=i.getFilters().map((o=>iv(o)));return s.length===1?s[0]:{compositeFilter:{op:$2(i.op),filters:s}}})(r):yt(54877,{filter:r})}function W2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function av(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function sv(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class wa{constructor(e,i,s,o,h=Et.min(),d=Et.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tA{constructor(e){this.yt=e}}function eA(r){const e=K2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fd(e,e.limit,"L"):e}class nA{constructor(){this.Sn=new iA}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Ia.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class iA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(ee.comparator)).toArray()}}const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(rv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Dr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Dr(0)}static ar(){return new Dr(-1)}}const x0="LruGarbageCollector",aA=1048576;function w0([r,e],[i,s]){const o=It(r,i);return o===0?It(e,s):o}class sA{constructor(e){this.Pr=e,this.buffer=new Me(w0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();w0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){at(x0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){jr(i)?at(x0,"Ignoring IndexedDB error during garbage collection: ",i):await zr(i)}await this.Ar(3e5)}))}}class lA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Tc.ce);const s=new sA(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(S0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,o,h,d,p,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,p=Date.now(),this.removeTargets(e,s,i)))).next((x=>(h=x,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(_=Date.now(),_r()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${x} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:x}))))}}function oA(r,e){return new lA(r,e)}class uA{constructor(){this.changes=new xs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&to(s.mutation,o,vn.empty(),ae.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=Es();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Yl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Es();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let h=Qi();const d=Wl(),p=(function(){return Wl()})();return i.forEach(((v,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Ba)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),to(b.mutation,_,b.mutation.getFieldMask(),ae.now())):d.set(_.key,vn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new cA(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Wl();let o=new oe(((d,p)=>d-p)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=s.get(v)||vn.empty();b=p.applyToLocalView(_,b),s.set(v,b);const x=(o.get(p.batchId)||Mt()).add(v);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,b=v.value,x=q_();b.forEach((O=>{if(!h.has(O)){const Y=Y_(i.get(O),s.get(O));Y!==null&&x.set(O,Y),h=h.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return h2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):j_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):J.resolve(Es());let p=io,v=h;return d.next((_=>J.forEach(_,((b,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),h.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{v=v.insert(b,O)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Mt()))).next((b=>({batchId:p,changes:B_(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,h).next((p=>J.forEach(p,(v=>{const _=(function(x,O){return new Ur(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((b=>{b.forEach(((x,O)=>{d=d.insert(x,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let p=Yl();return d.forEach(((v,_)=>{const b=h.get(v);b!==void 0&&to(b.mutation,_,vn.empty(),ae.now()),wc(i,_)&&(p=p.insert(v,_))})),p}))}}class fA{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:eA(o.bundledQuery),readTime:Ei(o.readTime)}})(i)),J.resolve()}}class dA{constructor(){this.overlays=new oe(ft.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Es();return J.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.bt(e,i,h)})),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=Es(),h=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new oe(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=h.get(_.largestBatchId);b===null&&(b=Es(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Es(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return J.resolve(p)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new V2(i,s));let h=this.Lr.get(i);h===void 0&&(h=Mt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(s.key))}}class mA{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class qd{constructor(){this.kr=new Me(Ue.Kr),this.qr=new Me(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new ft(new ee([])),s=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ft(new ee([])),s=new Ue(i,e),o=new Ue(i,e+1);let h=Mt();return this.qr.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ft.comparator(e.key,i.key)||It(e.Hr,i.Hr)}static Ur(e,i){return It(e.Hr,i.Hr)||ft.comparator(e.key,i.key)}}class gA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Ue.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new D2(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Vd:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([s,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(It);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{s=s.add(p.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let p=new Me(It);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Jr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pA{constructor(e){this.ti=e,this.docs=(function(){return new oe(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Qi();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||qb(Bb(b),s)<=0||(o.has(b.key)||wc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,s,o){yt(9500)}ni(e,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new yA(this)}getSize(e){return J.resolve(this.size)}}class yA extends uA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class _A{constructor(e){this.persistence=e,this.ri=new xs((i=>Od(i)),zd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new qd,this.targetCount=0,this.oi=Dr._r()}forEachTarget(e,i){return this.ri.forEach(((s,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Dr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),J.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class lv{constructor(e,i){this._i={},this.overlays={},this.ai=new Tc(0),this.ui=!1,this.ui=!0,this.ci=new mA,this.referenceDelegate=e(this),this.li=new _A(this),this.indexManager=new nA,this.remoteDocumentCache=(function(o){return new pA(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new tA(i),this.Pi=new fA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new gA(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new vA(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class vA extends Hb{constructor(e){super(),this.currentSequenceNumber=e}}class Pd{constructor(e){this.persistence=e,this.Ri=new qd,this.Ai=null}static Vi(e){return new Pd(e)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const o=ft.fromPath(s);return this.mi(e,o).next((h=>{h||i.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gc{constructor(e,i){this.persistence=e,this.fi=new xs((s=>Qb(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=oA(this,i)}static Vi(e,i){return new gc(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((h=>h?J.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(s++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wu(e.data.value)),i}wr(e,i,s){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=o}static Es(e,i){let s=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Hd(e,i.fromCache,s,o)}}class EA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uT()?8:Gb(lT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new EA;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,s,o){return s.documentReadCount<this.Vs?(_r()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",vr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(_r()<=Lt.DEBUG&&at("QueryEngine","Query:",vr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(_r()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",vr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(i))):J.resolve())}gs(e,i){if(m0(i))return J.resolve(null);let s=vi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fd(i,null,"F"),s=vi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Mt(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(e,fd(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,s,o){return m0(i)||o.isEqual(Et.min())?J.resolve(null):this.fs.getDocuments(e,s).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,s,o)?J.resolve(null):(_r()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vr(i)),this.Ds(e,d,i,kb(o,io)).next((p=>p)))}))}bs(e,i){let s=new Me(L_(e));return i.forEach(((o,h)=>{wc(e,h)&&(s=s.add(h))})),s}Ss(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,s){return _r()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",vr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ia.min(),s)}Ds(e,i,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Gd="LocalStore",bA=3e8;class AA{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new oe(It),this.Fs=new xs((h=>Od(h)),zd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function SA(r,e,i,s){return new AA(r,e,i,s)}async function ov(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],p=[];let v=Mt();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){p.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function xA(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,b){const x=_.batch,O=x.keys();let Y=J.resolve();return O.forEach((W=>{Y=Y.next((()=>b.getEntry(v,W))).next((F=>{const $=_.docVersions.get(W);Ft($!==null,48541),F.version.compareTo($)<0&&(x.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),b.addEntry(F)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(v,x)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function uv(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function wA(r,e){const i=bt(r),s=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((b,x)=>{const O=o.get(x);if(!O)return;p.push(i.li.removeMatchingKeys(h,b.removedDocuments,x).next((()=>i.li.addMatchingKeys(h,b.addedDocuments,x))));let Y=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(x)!==null?Y=Y.withResumeToken(Qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,s)),o=o.insert(x,Y),(function(F,$,ct){return F.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=bA?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(O,Y,b)&&p.push(i.li.updateTargetData(h,Y))}));let v=Qi(),_=Mt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),p.push(RA(h,d,e.documentUpdates).next((b=>{v=b.Bs,_=b.Ls}))),!s.isEqual(Et.min())){const b=i.li.getLastRemoteSnapshotVersion(h).next((x=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,s)));p.push(b)}return J.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=o,h)))}function RA(r,e,i){let s=Mt(),o=Mt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Qi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):at(Gd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function CA(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NA(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,e).next((h=>h?(o=h,J.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new wa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function yd(r,e,i){const s=bt(r),o=s.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!jr(d))throw d;at(Gd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function R0(r,e,i){const s=bt(r);let o=Et.min(),h=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const x=bt(v),O=x.Fs.get(b);return O!==void 0?J.resolve(x.vs.get(O)):x.li.getTargetData(_,b)})(s,d,vi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Mt()))).next((p=>(DA(s,m2(e),p),{documents:p,ks:h})))))}function DA(r,e,i){let s=r.Ms.get(e)||Et.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Ms.set(e,s)}class C0{constructor(){this.activeTargetIds=E2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VA{constructor(){this.vo=new C0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new C0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IA{Mo(e){}shutdown(){}}const N0="ConnectivityMonitor";class D0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(N0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){at(N0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ju=null;function _d(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}const Zf="RestConnection",MA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class OA{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===cc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=_d(),p=this.Qo(e,i.toUriEncodedString());at(Zf,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:_}=new URL(p),b=Rd(_);return this.zo(e,p,v,s,b).then((x=>(at(Zf,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw As(Zf,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",s),x}))}jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Or})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const s=MA[e];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class zA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ke="WebChannelConnection",Fl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ar extends OA{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ar.c_){const e=m_();Fl(e,d_.STAT_EVENT,(i=>{i.stat===sd.PROXY?at(Ke,"STAT_EVENT: detected buffering proxy"):i.stat===sd.NOPROXY&&at(Ke,"STAT_EVENT: detected no buffering proxy")})),Ar.c_=!0}}zo(e,i,s,o,h){const d=_d();return new Promise(((p,v)=>{const _=new h_;_.setWithCredentials(!0),_.listenOnce(f_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case $u.NO_ERROR:const x=_.getResponseJson();at(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case $u.TIMEOUT:at(Ke,`RPC '${e}' ${d} timed out`),v(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const O=_.getStatus();if(at(Ke,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const W=Y?.error;if(W&&W.status&&W.message){const F=(function(ct){const dt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(dt)>=0?dt:X.UNKNOWN})(W.status);v(new it(F,W.message))}else v(new it(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new it(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ke,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);at(Ke,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,s,15)}))}T_(e,i,s){const o=_d(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const _=h.join("");at(Ke,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let x=!1,O=!1;const Y=new zA({Ho:W=>{O?at(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(x||(at(Ke,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),at(Ke,`RPC '${e}' stream ${o} sending:`,W),b.send(W))},Jo:()=>b.close()});return Fl(b,Ql.EventType.OPEN,(()=>{O||(at(Ke,`RPC '${e}' stream ${o} transport opened.`),Y.i_())})),Fl(b,Ql.EventType.CLOSE,(()=>{O||(O=!0,at(Ke,`RPC '${e}' stream ${o} transport closed`),Y.o_(),this.E_(b))})),Fl(b,Ql.EventType.ERROR,(W=>{O||(O=!0,As(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),Y.o_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),Fl(b,Ql.EventType.MESSAGE,(W=>{if(!O){const F=W.data[0];Ft(!!F,16349);const $=F,ct=$?.error||$[0]?.error;if(ct){at(Ke,`RPC '${e}' stream ${o} received error:`,ct);const dt=ct.status;let gt=(function(pt){const C=Re[pt];if(C!==void 0)return X_(C)})(dt),vt=ct.message;dt==="NOT_FOUND"&&vt.includes("database")&&vt.includes("does not exist")&&vt.includes(this.databaseId.database)&&As(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),gt===void 0&&(gt=X.INTERNAL,vt="Unknown error status: "+dt+" with message "+ct.message),O=!0,Y.o_(new it(gt,vt)),b.close()}else at(Ke,`RPC '${e}' stream ${o} received:`,F),Y.__(F)}})),Ar.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return g_()}}function jA(r){return new Ar(r)}function Jf(){return typeof document<"u"?document:null}function Dc(r){return new B2(r,!0)}Ar.c_=!1;class cv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const V0="PersistentStream";class hv{constructor(e,i,s,o,h,d,p,v){this.Ci=e,this.b_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new it(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(at(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UA extends hv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=H2(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ei(d.readTime):Et.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=pd(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=cd(v)?{documents:Q2(h,v)}:{query:Y2(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=$_(h,d.resumeToken);const _=dd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=mc(h,d.snapshotVersion.toTimestamp());const _=dd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const s=X2(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=pd(this.serializer),i.removeTarget=e,this.K_(i)}}class LA extends hv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=F2(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=pd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>G2(this.serializer,s)))};this.K_(i)}}class kA{}class BA extends kA{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,md(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(X.UNKNOWN,h.toString())}))}jo(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,md(i,s),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function qA(r,e,i,s){return new BA(r,e,i,s)}class PA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ss="RemoteStore";class HA{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ws(this)&&(at(Ss,"Restarting streams for network reachability change."),await(async function(v){const _=bt(v);_.Ea.add(4),await go(_),_.Va.set("Unknown"),_.Ea.delete(4),await Vc(_)})(this))}))})),this.Va=new PA(s,o)}}async function Vc(r){if(ws(r))for(const e of r.Ra)await e(!0)}async function go(r){for(const e of r.Ra)await e(!1)}function fv(r,e){const i=bt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Kd(i)?Yd(i):Lr(i).O_()&&Qd(i,e))}function Fd(r,e){const i=bt(r),s=Lr(i);i.Ia.delete(e),s.O_()&&dv(i,e),i.Ia.size===0&&(s.O_()?s.L_():ws(i)&&i.Va.set("Unknown"))}function Qd(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Lr(r).Z_(e)}function dv(r,e){r.da.$e(e),Lr(r).X_(e)}function Yd(r){r.da=new j2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lr(r).start(),r.Va.ua()}function Kd(r){return ws(r)&&!Lr(r).x_()&&r.Ia.size>0}function ws(r){return bt(r).Ea.size===0}function mv(r){r.da=void 0}async function GA(r){r.Va.set("Online")}async function FA(r){r.Ia.forEach(((e,i)=>{Qd(r,e)}))}async function QA(r,e){mv(r),Kd(r)?(r.Va.ha(e),Yd(r)):r.Va.set("Unknown")}async function YA(r,e,i){if(r.Va.set("Online"),e instanceof J_&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(s){at(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pc(r,s)}else if(e instanceof nc?r.da.Xe(e):e instanceof Z_?r.da.st(e):r.da.tt(e),!i.isEqual(Et.min()))try{const s=await uv(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const b=h.Ia.get(v);if(!b)return;h.Ia.set(v,b.withResumeToken(Qe.EMPTY_BYTE_STRING,b.snapshotVersion)),dv(h,v);const x=new wa(b.target,v,_,b.sequenceNumber);Qd(h,x)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){at(Ss,"Failed to raise snapshot:",s),await pc(r,s)}}async function pc(r,e,i){if(!jr(e))throw e;r.Ea.add(1),await go(r),r.Va.set("Offline"),i||(i=()=>uv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Ss,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Vc(r)}))}function gv(r,e){return e().catch((i=>pc(r,i,e)))}async function Ic(r){const e=bt(r),i=ja(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vd;for(;KA(e);)try{const o=await CA(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,XA(e,o)}catch(o){await pc(e,o)}pv(e)&&yv(e)}function KA(r){return ws(r)&&r.Ta.length<10}function XA(r,e){r.Ta.push(e);const i=ja(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function pv(r){return ws(r)&&!ja(r).x_()&&r.Ta.length>0}function yv(r){ja(r).start()}async function ZA(r){ja(r).ra()}async function JA(r){const e=ja(r);for(const i of r.Ta)e.ea(i.mutations)}async function $A(r,e,i){const s=r.Ta.shift(),o=Ld.from(s,e,i);await gv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ic(r)}async function WA(r,e){e&&ja(r).Y_&&await(async function(s,o){if((function(d){return M2(d)&&d!==X.ABORTED})(o.code)){const h=s.Ta.shift();ja(s).B_(),await gv(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Ic(s)}})(r,e),pv(r)&&yv(r)}async function I0(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),at(Ss,"RemoteStore received new credentials");const s=ws(i);i.Ea.add(3),await go(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vc(i)}async function tS(r,e){const i=bt(r);e?(i.Ea.delete(2),await Vc(i)):e||(i.Ea.add(2),await go(i),i.Va.set("Unknown"))}function Lr(r){return r.ma||(r.ma=(function(i,s,o){const h=bt(i);return h.sa(),new UA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:GA.bind(null,r),Yo:FA.bind(null,r),t_:QA.bind(null,r),J_:YA.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Kd(r)?Yd(r):r.Va.set("Unknown")):(await r.ma.stop(),mv(r))}))),r.ma}function ja(r){return r.fa||(r.fa=(function(i,s,o){const h=bt(i);return h.sa(),new LA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZA.bind(null,r),t_:WA.bind(null,r),ta:JA.bind(null,r),na:$A.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ic(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Ss,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new Xd(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),jr(r))return new it(X.UNAVAILABLE,`${e}: ${r}`);throw r}class Sr{static emptySet(e){return new Sr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Yl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Sr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class M0{constructor(){this.ga=new oe(ft.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Vr{constructor(e,i,s,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Vr(e,i,Sr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class eS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nS{constructor(){this.queries=O0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=bt(i),h=o.queries;o.queries=O0(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(s)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function O0(){return new xs((r=>U_(r)),xc)}async function _v(r,e){const i=bt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(s=2):(h=new eS,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Zd(d,`Initialization of query '${vr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Jd(i)}async function vv(r,e){const i=bt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function iS(r,e){const i=bt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(s=!0);d.wa=o}}s&&Jd(i)}function aS(r,e,i){const s=bt(r),o=s.queries.get(e);if(o)for(const h of o.ba)h.onError(i);s.queries.delete(e)}function Jd(r){r.Ca.forEach((e=>{e.next()}))}var vd,z0;(z0=vd||(vd={})).Ma="default",z0.Cache="cache";class Ev{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Vr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vd.Cache}}class Tv{constructor(e){this.key=e}}class bv{constructor(e){this.key=e}}class sS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=L_(e),this.tu=new Sr(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new M0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,x)=>{const O=o.get(b),Y=wc(this.query,x)?x:null,W=!!O&&this.mutatedKeys.has(O.key),F=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let $=!1;O&&Y?O.data.isEqual(Y.data)?W!==F&&(s.track({type:3,doc:Y}),$=!0):this.su(O,Y)||(s.track({type:2,doc:Y}),$=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!O&&Y?(s.track({type:0,doc:Y}),$=!0):O&&!Y&&(s.track({type:1,doc:O}),$=!0,(v||_)&&(p=!0)),$&&(Y?(d=d.add(Y),h=F?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,x)=>(function(Y,W){const F=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:$})}};return F(Y)-F(W)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Vr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new bv(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new Tv(s))})),i}cu(e){this.Za=e.ks,this.Ya=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Vr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $d="SyncEngine";class rS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class lS{constructor(e){this.key=e,this.hu=!1}}class oS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xs((p=>U_(p)),xc),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(ft.comparator),this.Au=new Map,this.Vu=new qd,this.du={},this.mu=new Map,this.fu=Dr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uS(r,e,i=!0){const s=Cv(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Av(s,e,i,!0),o}async function cS(r,e){const i=Cv(r);await Av(i,e,!0,!1)}async function Av(r,e,i,s){const o=await NA(r.localStore,vi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await hS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&fv(r.remoteStore,o),p}async function hS(r,e,i,s,o){r.pu=(x,O,Y)=>(async function(F,$,ct,dt){let gt=$.view.ru(ct);gt.Ss&&(gt=await R0(F.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,gt))));const vt=dt&&dt.targetChanges.get($.targetId),ot=dt&&dt.targetMismatches.get($.targetId)!=null,pt=$.view.applyChanges(gt,F.isPrimaryClient,vt,ot);return U0(F,$.targetId,pt.au),pt.snapshot})(r,x,O,Y);const h=await R0(r.localStore,e,!0),d=new sS(e,h.ks),p=d.ru(h.documents),v=mo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);U0(r,i,_.au);const b=new rS(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function fS(r,e,i){const s=bt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!xc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Fd(s.remoteStore,o.targetId),Ed(s,o.targetId)})).catch(zr)):(Ed(s,o.targetId),await yd(s.localStore,o.targetId,!0))}async function dS(r,e){const i=bt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Fd(i.remoteStore,s.targetId))}async function mS(r,e,i){const s=TS(r);try{const o=await(function(d,p){const v=bt(d),_=ae.now(),b=p.reduce(((Y,W)=>Y.add(W.key)),Mt());let x,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let W=Qi(),F=Mt();return v.xs.getEntries(Y,b).next(($=>{W=$,W.forEach(((ct,dt)=>{dt.isValidDocument()||(F=F.add(ct))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,W))).next(($=>{x=$;const ct=[];for(const dt of p){const gt=C2(dt,x.get(dt.key).overlayedDocument);gt!=null&&ct.push(new Ba(dt.key,gt,N_(gt.value.mapValue),zn.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,ct,p)})).next(($=>{O=$;const ct=$.applyToLocalDocumentSet(x,F);return v.documentOverlayCache.saveOverlays(Y,$.batchId,ct)}))})).then((()=>({batchId:O.batchId,changes:B_(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new oe(It)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(s,o.batchId,i),await po(s,o.changes),await Ic(s.remoteStore)}catch(o){const h=Zd(o,"Failed to persist write");i.reject(h)}}async function Sv(r,e){const i=bt(r);try{const s=await wA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await po(i,s,e)}catch(s){await zr(s)}}function j0(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=bt(d);v.onlineState=p;let _=!1;v.queries.forEach(((b,x)=>{for(const O of x.ba)O.va(p)&&(_=!0)})),_&&Jd(v)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gS(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new oe(ft.comparator);d=d.insert(h,Ze.newNoDocument(h,Et.min()));const p=Mt().add(h),v=new Nc(Et.min(),new Map,new oe(It),d,p);await Sv(s,v),s.Ru=s.Ru.remove(h),s.Au.delete(e),Wd(s)}else await yd(s.localStore,e,!1).then((()=>Ed(s,e,i))).catch(zr)}async function pS(r,e){const i=bt(r),s=e.batch.batchId;try{const o=await xA(i.localStore,e);wv(i,s,null),xv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await po(i,o)}catch(o){await zr(o)}}async function yS(r,e,i){const s=bt(r);try{const o=await(function(d,p){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,p).next((x=>(Ft(x!==null,37113),b=x.keys(),v.mutationQueue.removeMutationBatch(_,x)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(s.localStore,e);wv(s,e,i),xv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await po(s,o)}catch(o){await zr(o)}}function xv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function wv(r,e,i){const s=bt(r);let o=s.du[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Ed(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||Rv(r,s)}))}function Rv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Fd(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),Wd(r))}function U0(r,e,i){for(const s of i)s instanceof Tv?(r.Vu.addReference(s.key,e),_S(r,s)):s instanceof bv?(at($d,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||Rv(r,s.key)):yt(19791,{wu:s})}function _S(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(at($d,"New document in limbo: "+i),r.Eu.add(s),Wd(r))}function Wd(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ft(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new lS(i)),r.Ru=r.Ru.insert(i,s),fv(r.remoteStore,new wa(vi(Sc(i.path)),s,"TargetPurposeLimboResolution",Tc.ce))}}async function po(r,e,i){const s=bt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Hd.Es(v.targetId,_);h.push(b)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(v,_){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(_,(O=>J.forEach(O.Ts,(Y=>b.persistence.referenceDelegate.addReference(x,O.targetId,Y))).next((()=>J.forEach(O.Is,(Y=>b.persistence.referenceDelegate.removeReference(x,O.targetId,Y)))))))))}catch(x){if(!jr(x))throw x;at(Gd,"Failed to update sequence numbers: "+x)}for(const x of _){const O=x.targetId;if(!x.fromCache){const Y=b.vs.get(O),W=Y.snapshotVersion,F=Y.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(O,F)}}})(s.localStore,h))}async function vS(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){at($d,"User change. New user:",e.toKey());const s=await ov(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new it(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await po(i,s.Ns)}}function ES(r,e){const i=bt(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Cv(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ES.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gS.bind(null,e),e.Pu.J_=iS.bind(null,e.eventManager),e.Pu.yu=aS.bind(null,e.eventManager),e}function TS(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yS.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return SA(this.persistence,new TA,e.initialUser,this.serializer)}Cu(e){return new lv(Pd.Vi,this.serializer)}Du(e){return new VA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class bS extends yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof gc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new lv((s=>gc.Vi(s,i)),this.serializer)}}class Td{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>j0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vS.bind(null,this.syncEngine),await tS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nS})()}createDatastore(e){const i=Dc(e.databaseInfo.databaseId),s=jA(e.databaseInfo);return qA(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,p){return new HA(s,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>j0(this.syncEngine,i,0)),(function(){return D0.v()?new D0:new IA})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,b){const x=new oS(o,h,d,p,v,_);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=bt(i);at(Ss,"RemoteStore shutting down."),s.Ea.add(5),await go(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Td.provider={build:()=>new Td};class Nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ua="FirestoreClient";class AS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{at(Ua,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(Ua,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Zd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function $f(r,e){r.asyncQueue.verifyOperationInProgress(),at(Ua,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ov(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function L0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await SS(r);at(Ua,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>I0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>I0(e.remoteStore,o))),r._onlineComponents=e}async function SS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Ua,"Using user provided OfflineComponentProvider");try{await $f(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;As("Error using user provided cache. Falling back to memory cache: "+i),await $f(r,new yc)}}else at(Ua,"Using default OfflineComponentProvider"),await $f(r,new bS(void 0));return r._offlineComponents}async function Dv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Ua,"Using user provided OnlineComponentProvider"),await L0(r,r._uninitializedComponentsProvider._online)):(at(Ua,"Using default OnlineComponentProvider"),await L0(r,new Td))),r._onlineComponents}function xS(r){return Dv(r).then((e=>e.syncEngine))}async function bd(r){const e=await Dv(r),i=e.eventManager;return i.onListen=uS.bind(null,e.syncEngine),i.onUnlisten=fS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dS.bind(null,e.syncEngine),i}function wS(r,e,i,s){const o=new Nv(s),h=new Ev(e,o,i);return r.asyncQueue.enqueueAndForget((async()=>_v(await bd(r),h))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>vv(await bd(r),h)))}}function RS(r,e,i={}){const s=new Da;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const b=new Nv({next:O=>{b.Nu(),d.enqueueAndForget((()=>vv(h,x)));const Y=O.docs.has(p);!Y&&O.fromCache?_.reject(new it(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&O.fromCache&&v&&v.source==="server"?_.reject(new it(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),x=new Ev(Sc(p.path),b,{includeMetadataChanges:!0,Ka:!0});return _v(h,x)})(await bd(r),r.asyncQueue,e,i,s))),s.promise}function CS(r,e){const i=new Da;return r.asyncQueue.enqueueAndForget((async()=>mS(await xS(r),e,i))),i.promise}function Vv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const NS="ComponentProvider",k0=new Map;function DS(r,e,i,s,o){return new Xb(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Vv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Iv="firestore.googleapis.com",B0=!0;class q0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iv,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aA)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Cb;switch(s.type){case"firstParty":return new Ib(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=k0.get(i);s&&(at(NS,"Removing Datastore"),k0.delete(i),s.terminate())})(this),Promise.resolve()}}function VS(r,e,i,s={}){r=On(r,Mc);const o=Rd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(nT(`https://${p}`),rT("Firestore",!0)),h.host!==Iv&&h.host!==p&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:s};if(!rc(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=Xe.MOCK_USER;else{_=iT(s.mockUserToken,r._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(x)}r._authCredentials=new Nb(new y_(_,b))}}class Rs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class he{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new he(this.firestore,e,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(ho(i,he._jsonSchema))return new he(e,s||null,new ft(ee.fromString(i.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Ne("string",he._jsonSchemaVersion),referencePath:Ne("string")};class Va extends Rs{constructor(e,i,s){super(e,i,Sc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new he(this.firestore,null,new ft(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function _c(r,e,...i){if(r=bi(r),__("collection","path",e),r instanceof Mc){const s=ee.fromString(e,...i);return t0(s),new Va(r,null,s)}{if(!(r instanceof he||r instanceof Va))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return t0(s),new Va(r.firestore,null,s)}}function xr(r,e,...i){if(r=bi(r),arguments.length===1&&(e=Dd.newId()),__("doc","path",e),r instanceof Mc){const s=ee.fromString(e,...i);return Wy(s),new he(r,null,new ft(s))}{if(!(r instanceof he||r instanceof Va))throw new it(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Wy(s),new he(r.firestore,r instanceof Va?r.converter:null,new ft(s))}}const P0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cv(this,"async_queue_retry"),this._c=()=>{const s=Jf();s&&at(P0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!jr(e))throw e;at(P0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",G0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Xd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:G0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function G0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class La extends Mc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new H0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function IS(r,e){const i=typeof r=="object"?r:pb(),s=typeof r=="string"?r:cc,o=hb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=tT("firestore");h&&VS(o,...h)}return o}function tm(r){if(r._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MS(r),r._firestoreClient}function MS(r){const e=r._freezeSettings(),i=DS(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Qe.fromBase64String(e))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ho(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Ne("string",Mn._jsonSchemaVersion),bytes:Ne("string")};class em{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oc{constructor(e){this._methodName=e}}class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(ho(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Ne("string",Ti._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Kn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ho(e,Kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Kn(e.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kn._jsonSchemaVersion="firestore/vectorValue/1.0",Kn._jsonSchema={type:Ne("string",Kn._jsonSchemaVersion),vectorValues:Ne("object")};const OS=/^__.*__$/;class zS{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new fo(e,this.data,i,this.fieldTransforms)}}class Mv{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Ov(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class nm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new nm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Ov(this.dataSource)&&OS.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class jS{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Dc(e)}createContext(e,i,s,o=!1){return new nm({dataSource:e,methodName:i,targetDoc:s,path:Fe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zc(r){const e=r._freezeSettings(),i=Dc(r._databaseId);return new jS(r._databaseId,!!e.ignoreUndefinedProperties,i)}function zv(r,e,i,s,o,h={}){const d=r.createContext(h.merge||h.mergeFields?2:0,e,i,o);am("Data must be an object, but it was:",d,s);const p=jv(s,d);let v,_;if(h.merge)v=new vn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const x of h.mergeFields){const O=Ir(e,x,i);if(!d.contains(O))throw new it(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);kv(b,O)||b.push(O)}v=new vn(b),_=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,_=d.fieldTransforms;return new zS(new un(p),v,_)}class jc extends Oc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}class im extends Oc{_toFieldTransform(e){return new S2(e.path,new oo)}isEqual(e){return e instanceof im}}function US(r,e,i,s){const o=r.createContext(1,e,i);am("Data must be an object, but it was:",o,s);const h=[],d=un.empty();ka(s,((v,_)=>{const b=Lv(e,v,i);_=bi(_);const x=o.childContextForFieldPath(b);if(_ instanceof jc)h.push(b);else{const O=yo(_,x);O!=null&&(h.push(b),d.set(b,O))}}));const p=new vn(h);return new Mv(d,p,o.fieldTransforms)}function LS(r,e,i,s,o,h){const d=r.createContext(1,e,i),p=[Ir(e,s,i)],v=[o];if(h.length%2!=0)throw new it(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<h.length;O+=2)p.push(Ir(e,h[O])),v.push(h[O+1]);const _=[],b=un.empty();for(let O=p.length-1;O>=0;--O)if(!kv(_,p[O])){const Y=p[O];let W=v[O];W=bi(W);const F=d.childContextForFieldPath(Y);if(W instanceof jc)_.push(Y);else{const $=yo(W,F);$!=null&&(_.push(Y),b.set(Y,$))}}const x=new vn(_);return new Mv(b,x,d.fieldTransforms)}function kS(r,e,i,s=!1){return yo(i,r.createContext(s?4:3,e))}function yo(r,e){if(Uv(r=bi(r)))return am("Unsupported field value:",e,r),jv(r,e);if(r instanceof Oc)return(function(s,o){if(!Ov(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const p of s){let v=yo(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=bi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return T2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ae.fromDate(s);return{timestampValue:mc(o.serializer,h)}}if(s instanceof ae){const h=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mc(o.serializer,h)}}if(s instanceof Ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:$_(o.serializer,s._byteString)};if(s instanceof he){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Bd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kn)return(function(d,p){const v=d instanceof Kn?d.toArray():d;return{mapValue:{fields:{[R_]:{stringValue:C_},[hc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return jd(p.serializer,b)}))}}}}}})(s,o);if(sv(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ec(s)}`)})(r,e)}function jv(r,e){const i={};return T_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(r,((s,o)=>{const h=yo(o,e.childContextForField(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function Uv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Ti||r instanceof Mn||r instanceof he||r instanceof Oc||r instanceof Kn||sv(r))}function am(r,e,i){if(!Uv(i)||!v_(i)){const s=Ec(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Ir(r,e,i){if((e=bi(e))instanceof em)return e._internalPath;if(typeof e=="string")return Lv(r,e);throw vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const BS=new RegExp("[~\\*/\\[\\]]");function Lv(r,e,i){if(e.search(BS)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new em(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new it(X.INVALID_ARGUMENT,p+r+v)}function kv(r,e){return r.some((i=>i.isEqual(e)))}class qS{convertValue(e,i="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ka(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[hc].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new Kn(i)}convertGeoPoint(e){return new Ti(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Ac(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Ma(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ft(av(s),9688,{name:e});const o=new so(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return o.isEqual(i)||Fi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Bv extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new he(this.firestore,null,i)}}function Ad(){return new im("serverTimestamp")}const F0="@firebase/firestore",Q0="4.11.0";function Y0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class qv{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Ir("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class PS extends qv{data(){return super.data()}}function HS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sm{}class Pv extends sm{}function Hv(r,e,...i){let s=[];e instanceof sm&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof lm)).length,p=h.filter((v=>v instanceof rm)).length;if(d>1||d>0&&p>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class rm extends Pv{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new rm(e,i,s)}_apply(e){const i=this._parse(e);return Fv(e._query,i),new Rs(e.firestore,e.converter,hd(e._query,i))}_parse(e){const i=zc(e.firestore);return(function(h,d,p,v,_,b,x){let O;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){X0(x,b);const W=[];for(const F of x)W.push(K0(v,h,F));O={arrayValue:{values:W}}}else O=K0(v,h,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||X0(x,b),O=kS(p,d,x,b==="in"||b==="not-in");return Ce.create(_,b,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class lm extends sm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new lm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Xn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)Fv(d,v),d=hd(d,v)})(e._query,i),new Rs(e.firestore,e.converter,hd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class om extends Pv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new om(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lo(h,d)})(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,d2(e._query,i))}}function Gv(r,e="asc"){const i=e,s=Ir("orderBy",r);return om._create(s,i)}function K0(r,e,i){if(typeof(i=bi(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ee.fromString(i));if(!ft.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return o0(r,new ft(s))}if(i instanceof he)return o0(r,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ec(i)}.`)}function X0(r,e){if(!Array.isArray(r)||r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fv(r,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function Qv(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends qv{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Ir("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ts._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:Ne("string",Ts._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ic extends Ts{data(e={}){return super.data(e)}}class wr{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ic(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Xl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Xl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:GS(p.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}wr._jsonSchemaVersion="firestore/querySnapshot/1.0",wr._jsonSchema={type:Ne("string",wr._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function FS(r){r=On(r,he);const e=On(r.firestore,La),i=tm(e);return RS(i,r._key).then((s=>Zv(e,r,s)))}function Z0(r,e,i){r=On(r,he);const s=On(r.firestore,La),o=Qv(r.converter,e),h=zc(s);return Uc(s,[zv(h,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,zn.none())])}function QS(r,e,i,...s){r=On(r,he);const o=On(r.firestore,La),h=zc(o);let d;return d=typeof(e=bi(e))=="string"||e instanceof em?LS(h,"updateDoc",r._key,e,i,s):US(h,"updateDoc",r._key,e),Uc(o,[d.toMutation(r._key,zn.exists(!0))])}function Yv(r){return Uc(On(r.firestore,La),[new Ud(r._key,zn.none())])}function Kv(r,e){const i=On(r.firestore,La),s=xr(r),o=Qv(r.converter,e),h=zc(r.firestore);return Uc(i,[zv(h,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then((()=>s))}function Xv(r,...e){r=bi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Y0(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Y0(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let h,d,p;if(r instanceof he)d=On(r.firestore,La),p=Sc(r._key.path),h={next:_=>{e[s]&&e[s](Zv(d,r,_))},error:e[s+1],complete:e[s+2]};else{const _=On(r,Rs);d=On(_.firestore,La),p=_._query;const b=new Bv(d);h={next:x=>{e[s]&&e[s](new wr(d,b,_,x))},error:e[s+1],complete:e[s+2]},HS(r._query)}const v=tm(d);return wS(v,p,o,h)}function Uc(r,e){const i=tm(r);return CS(i,e)}function Zv(r,e,i){const s=i.docs.get(e._key),o=new Bv(r);return new Ts(r,o,e._key,s,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Rb(gb),oc(new eo("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new La(new Db(s.getProvider("auth-internal")),new Mb(d,s.getProvider("app-check-internal")),Zb(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),br(F0,Q0,e),br(F0,Q0,"esm2020")})();const Jv=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();const YS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const KS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());const J0=r=>{const e=KS(r);return e.charAt(0).toUpperCase()+e.slice(1)};var XS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const JS=kt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...p},v)=>kt.createElement("svg",{ref:v,...XS,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:Jv("lucide",o),...!h&&!ZS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>kt.createElement(_,b)),...Array.isArray(h)?h:[h]]));const zt=(r,e)=>{const i=kt.forwardRef(({className:s,...o},h)=>kt.createElement(JS,{ref:h,iconNode:e,className:Jv(`lucide-${YS(J0(r))}`,`lucide-${r}`,s),...o}));return i.displayName=J0(r),i};const $S=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],WS=zt("arrow-left",$S);const tx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$v=zt("arrow-right",tx);const ex=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Wv=zt("banknote",ex);const nx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ix=zt("briefcase",nx);const ax=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],sx=zt("bus",ax);const rx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lx=zt("calendar",rx);const ox=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ux=zt("chart-pie",ox);const cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],hx=zt("circle-arrow-down",cx);const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],dx=zt("circle-arrow-up",fx);const mx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gx=zt("circle-check-big",mx);const px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],yx=zt("circle-plus",px);const _x=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],vx=zt("coffee",_x);const Ex=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Lc=zt("credit-card",Ex);const Tx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bx=zt("database",Tx);const Ax=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],Sx=zt("droplet",Ax);const xx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wx=zt("funnel",xx);const Rx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Cx=zt("house",Rx);const Nx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dx=zt("lock",Nx);const Vx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ix=zt("log-out",Vx);const Mx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$0=zt("plus",Mx);const Ox=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zx=zt("save",Ox);const jx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t1=zt("settings",jx);const Ux=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lx=zt("shield",Ux);const kx=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bx=zt("shopping-cart",kx);const qx=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],e1=zt("smartphone",qx);const Px=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],n1=zt("trash-2",Px);const Hx=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],i1=zt("trending-down",Hx);const Gx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sd=zt("trending-up",Gx);const Fx=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qx=zt("truck",Fx);const Yx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Kx=zt("user-plus",Yx);const Xx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zx=zt("user",Xx);const Jx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$x=zt("users",Jx);const Wx=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ac=zt("wallet",Wx);const tw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ew=zt("x",tw);const nw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],iw=zt("zap",nw);var aw="firebase",sw="12.9.0";br(aw,sw,"app");const rw={apiKey:"AIzaSyDKw_uJDVEf1nMEQvdp8HTa6uAkqw-8UpI",authDomain:"prosperledger-2066e.firebaseapp.com",projectId:"prosperledger-2066e",storageBucket:"prosperledger-2066e.firebasestorage.app",messagingSenderId:"935082227118",appId:"1:935082227118:web:905af7687583940486443f"},lw=l_(rw),Hi=IS(lw),_s=({title:r,amount:e,icon:i,type:s,subtext:o,className:h=""})=>{const p=s==="income"?"text-emerald-600 bg-emerald-50 border-emerald-200":s==="expense"?"text-rose-600 bg-rose-50 border-rose-200":s==="neutral"?"text-blue-600 bg-blue-50 border-blue-200":s==="tithe"?"text-purple-600 bg-purple-50 border-purple-200":s==="cash"?"text-amber-600 bg-amber-50 border-amber-200":s==="bank"?"text-indigo-600 bg-indigo-50 border-indigo-200":s==="mobile"?"text-cyan-600 bg-cyan-50 border-cyan-200":"text-gray-600 bg-gray-50 border-gray-200",v=p.split(" ").find(x=>x.startsWith("border-")),_=p.split(" ").find(x=>x.startsWith("bg-")),b=p.split(" ").find(x=>x.startsWith("text-"));return A.jsxs("div",{className:`p-6 rounded-2xl border ${v} shadow-sm bg-white transition-all hover:shadow-md ${h}`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"text-gray-500 text-sm font-semibold uppercase tracking-wider",children:r}),A.jsx("div",{className:`p-2.5 rounded-xl ${_} ${b}`,children:A.jsx(i,{size:22,className:b})})]}),A.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.toLocaleString("en-US",{style:"currency",currency:"UGX"})}),o&&A.jsx("p",{className:"text-xs text-gray-500 mt-2 font-medium",children:o})]})},W0=["Web Design","Hosting","Product Sales","Tips/Gifts","Other Income"],Wf=["Transport","Home/Family","Water Bill","Electricity","Data/Internet","Business Expense","Other Expense"],ow=({onAddTransaction:r,initialData:e=null})=>{const[i,s]=kt.useState({date:new Date().toISOString().split("T")[0],type:"expense",category:Wf[0],amount:"",method:"Mobile Money",note:""});kt.useEffect(()=>{e&&(s(p=>({...p,type:e.type||p.type,amount:e.amount||p.amount,category:e.category||p.category,method:e.method||p.method,note:e.note||p.note})),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}))},[e]);const o=p=>{const{name:v,value:_}=p.target;s(b=>({...b,[v]:_}))},h=p=>{s(v=>({...v,type:p,category:p==="income"?W0[0]:Wf[0]}))},d=p=>{p.preventDefault(),!(!i.amount||!i.category)&&(r({...i,amount:Number(i.amount)}),s(v=>({...v,amount:"",note:""})))};return A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 xl:sticky xl:top-24",children:[A.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[A.jsx("div",{className:"p-2 bg-teal-50 text-teal-600 rounded-lg",children:A.jsx($0,{size:20})}),"New Entry"]}),A.jsxs("form",{onSubmit:d,className:"space-y-6",children:[A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("button",{type:"button",onClick:()=>h("income"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-medium transition-all ${i.type==="income"?"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200 shadow-sm":"bg-gray-50 text-gray-500 hover:bg-gray-100"}`,children:[A.jsx(dx,{size:18}),"Income"]}),A.jsxs("button",{type:"button",onClick:()=>h("expense"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-medium transition-all ${i.type==="expense"?"bg-rose-50 text-rose-700 ring-1 ring-rose-200 shadow-sm":"bg-gray-50 text-gray-500 hover:bg-gray-100"}`,children:[A.jsx(hx,{size:18}),"Expense"]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Amount (UGX)"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-medium",children:"Shs"}),A.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:o,placeholder:"0",className:"w-full pl-14 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition font-semibold text-lg",required:!0})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Category"}),A.jsx("select",{name:"category",value:i.category,onChange:o,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none appearance-none font-medium text-gray-700 cursor-pointer",children:(i.type==="income"?W0:Wf).map(p=>A.jsx("option",{value:p,children:p},p))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Payment Method"}),A.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Mobile Money","Cash","Bank"].map(p=>A.jsxs("button",{type:"button",onClick:()=>s({...i,method:p}),className:`px-2 py-3 text-sm font-medium border rounded-xl transition-all flex flex-col items-center gap-2 ${i.method===p?"bg-teal-50 border-teal-500 text-teal-700 shadow-sm":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[p==="Mobile Money"&&A.jsx(e1,{size:18}),p==="Cash"&&A.jsx(Wv,{size:18}),p==="Bank"&&A.jsx(Lc,{size:18}),p]},p))})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Date"}),A.jsx("input",{type:"date",name:"date",value:i.date,onChange:o,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-700 outline-none focus:ring-2 focus:ring-teal-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Description"}),A.jsx("input",{type:"text",name:"note",value:i.note,onChange:o,placeholder:"Optional note",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-700 outline-none focus:ring-2 focus:ring-teal-500 placeholder:text-gray-400"})]})]}),A.jsx("div",{className:"pt-2",children:A.jsxs("button",{type:"submit",className:`w-full py-4 rounded-xl font-bold text-white shadow-md transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${i.type==="income"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-200":"bg-rose-600 hover:bg-rose-700 shadow-rose-200"}`,children:[A.jsx($0,{size:20}),"Add ",i.type==="income"?"Income":"Expense"]})})]})]})},uw=({transactions:r,onDelete:e})=>A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[A.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[A.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[A.jsx("div",{className:"p-2 bg-teal-50 text-teal-600 rounded-lg",children:A.jsx(wx,{size:20})}),"Recent History"]}),A.jsx("div",{className:"flex items-center gap-2",children:A.jsxs("span",{className:"text-sm font-semibold text-teal-700 bg-teal-50 px-3 py-1 rounded-full border border-teal-100",children:[r.length," Records"]})})]}),A.jsx("div",{className:"min-h-[400px]",children:r.length===0?A.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-12 text-center text-gray-400 space-y-4 pt-24",children:[A.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center text-gray-300",children:A.jsx(Sd,{size:32})}),A.jsx("p",{className:"font-medium text-gray-500",children:"No records yet. Add your first income or expense!"})]}):A.jsx("div",{className:"divide-y divide-gray-50",children:r.map(i=>A.jsxs("div",{className:"p-5 hover:bg-gray-50/80 transition-all flex items-center justify-between group",children:[A.jsxs("div",{className:"flex items-center gap-5",children:[A.jsxs("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-sm ${i.type==="income"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[i.category==="Web Design"&&A.jsx(ix,{size:22,strokeWidth:2.5}),i.category==="Hosting"&&A.jsx(Lc,{size:22,strokeWidth:2.5}),i.category==="Transport"&&A.jsx(Qx,{size:22,strokeWidth:2.5}),i.category==="Home/Family"&&A.jsx(Cx,{size:22,strokeWidth:2.5}),i.category==="Water Bill"&&A.jsx(Sx,{size:22,strokeWidth:2.5}),!["Web Design","Hosting","Transport","Home/Family","Water Bill"].includes(i.category)&&(i.type==="income"?A.jsx(Sd,{size:22,strokeWidth:2.5}):A.jsx(i1,{size:22,strokeWidth:2.5}))]}),A.jsxs("div",{children:[A.jsx("p",{className:"font-bold text-gray-800 text-base",children:i.category}),A.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-500 font-medium",children:[A.jsx("span",{children:i.date}),A.jsx("span",{className:"text-gray-300",children:""}),A.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded-md text-gray-600 text-xs",children:i.method}),i.note&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"text-gray-300",children:""}),A.jsx("span",{className:"italic text-gray-400 line-clamp-1 max-w-[200px]",children:i.note})]})]})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("span",{className:`font-mono font-bold text-lg ${i.type==="income"?"text-emerald-600":"text-rose-600"}`,children:[i.type==="income"?"+":"-"," ",Number(i.amount).toLocaleString("en-US",{style:"currency",currency:"UGX"})]}),A.jsx("button",{onClick:()=>e(i.id),className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all opacity-0 group-hover:opacity-100",title:"Delete transaction",children:A.jsx(n1,{size:18})})]})]},i.id))})})]}),cw=({onLogin:r})=>{const[e,i]=kt.useState(""),[s,o]=kt.useState(""),[h,d]=kt.useState(""),p=async v=>{v.preventDefault(),d("");try{await r(e,s)||d("Invalid username or password")}catch{d("An error occurred during login")}};return A.jsx("div",{className:"min-h-screen bg-[#f8fafc] flex items-center justify-center p-4",children:A.jsx("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100",children:A.jsxs("div",{className:"p-8 sm:p-12",children:[A.jsx("div",{className:"flex justify-center mb-8",children:A.jsx("div",{className:"p-4 bg-teal-50 rounded-2xl",children:A.jsx(ac,{className:"text-teal-600",size:40})})}),A.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Welcome Back"}),A.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Sign in to ProsperLedger"}),h&&A.jsx("div",{className:"mb-6 p-4 bg-rose-50 border-l-4 border-rose-500 text-rose-700 text-sm rounded-r-lg",children:h}),A.jsxs("form",{onSubmit:p,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400",children:A.jsx(Zx,{size:20})}),A.jsx("input",{type:"text",value:e,onChange:v=>i(v.target.value),className:"w-full pl-11 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none transition font-medium text-gray-800",placeholder:"Enter username",required:!0})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400",children:A.jsx(Dx,{size:20})}),A.jsx("input",{type:"password",value:s,onChange:v=>o(v.target.value),className:"w-full pl-11 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none transition font-medium text-gray-800",placeholder:"Enter password",required:!0})]})]}),A.jsxs("button",{type:"submit",className:"w-full py-4 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-bold text-lg shadow-md shadow-teal-200 transition-all active:scale-[0.98] flex items-center justify-center gap-2 group",children:["Sign In",A.jsx($v,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})})},hw=({onClose:r,onSave:e,currentConfig:i})=>{const[s,o]=kt.useState(i?.username||""),[h,d]=kt.useState(""),[p,v]=kt.useState(""),[_,b]=kt.useState(i?.seedCash||0),[x,O]=kt.useState(i?.seedBank||0),[Y,W]=kt.useState(i?.seedMobile||0),[F,$]=kt.useState(!1),[ct,dt]=kt.useState(""),gt=async vt=>{if(vt.preventDefault(),dt(""),h&&h!==p)return dt("Passwords do not match");$(!0);try{await e({username:s,password:h,seedCash:Number(_),seedBank:Number(x),seedMobile:Number(Y)}),r()}catch{dt("Failed to update config"),$(!1)}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:A.jsxs("div",{className:"bg-white rounded-3xl shadow-xl w-full max-w-md overflow-hidden relative animate-in fade-in zoom-in duration-200 my-8",children:[A.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:A.jsx(ew,{size:24})}),A.jsxs("div",{className:"p-8",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[A.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-xl",children:A.jsx(t1,{size:24})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Settings"})]}),ct&&A.jsx("div",{className:"mb-6 p-4 bg-rose-50 border-l-4 border-rose-500 text-rose-700 text-sm rounded-r-lg",children:ct}),A.jsxs("form",{onSubmit:gt,className:"space-y-6",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("h3",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 border-b pb-2",children:[A.jsx(Lx,{size:16,className:"text-indigo-500"})," Security"]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Username"}),A.jsx("input",{type:"text",value:s,onChange:vt=>o(vt.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition font-medium text-gray-800",required:!0})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["New Password ",A.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),A.jsx("input",{type:"password",value:h,onChange:vt=>d(vt.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition font-medium text-gray-800"})]}),h&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Confirm New Password"}),A.jsx("input",{type:"password",value:p,onChange:vt=>v(vt.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition font-medium text-gray-800",required:!!h})]})]}),A.jsxs("div",{className:"space-y-4 pt-2",children:[A.jsxs("h3",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 border-b pb-2",children:[A.jsx(bx,{size:16,className:"text-emerald-500"})," Starting Balances"]}),A.jsx("p",{className:"text-xs text-gray-500",children:"Set initial amounts to offset your calculated totals."}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Cash (UGX)"}),A.jsx("input",{type:"number",value:_,onChange:vt=>b(vt.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition font-medium text-gray-800 text-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Bank (UGX)"}),A.jsx("input",{type:"number",value:x,onChange:vt=>O(vt.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition font-medium text-gray-800 text-sm"})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Mobile Money (UGX)"}),A.jsx("input",{type:"number",value:Y,onChange:vt=>W(vt.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition font-medium text-gray-800 text-sm"})]})]})]}),A.jsxs("div",{className:"pt-4 flex gap-3 border-t mt-6",children:[A.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 px-4 bg-gray-100 font-bold text-gray-600 rounded-xl hover:bg-gray-200 transition-colors",children:"Cancel"}),A.jsx("button",{type:"submit",disabled:F,className:"flex-1 py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-md shadow-indigo-200 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:F?"Saving...":A.jsxs(A.Fragment,{children:[A.jsx(zx,{size:18}),"Save Settings"]})})]})]})]})]})})},fw=()=>{const[r,e]=kt.useState([]),[i,s]=kt.useState(!0),[o,h]=kt.useState(!1),[d,p]=kt.useState({type:"debtor",name:"",amount:"",note:"",dueDate:""});kt.useEffect(()=>{const F=Hv(_c(Hi,"debts"),Gv("createdAt","desc")),$=Xv(F,ct=>{const dt=ct.docs.map(gt=>({id:gt.id,...gt.data()}));e(dt),s(!1)});return()=>$()},[]);const v=async F=>{if(F.preventDefault(),!(!d.name||!d.amount))try{await Kv(_c(Hi,"debts"),{...d,amount:Number(d.amount),isPaid:!1,createdAt:Ad()}),h(!1),p({type:"debtor",name:"",amount:"",note:"",dueDate:""})}catch($){console.error("Error adding debt record:",$)}},_=async(F,$)=>{try{await QS(xr(Hi,"debts",F),{isPaid:!$,paidAt:$?null:Ad()})}catch(ct){console.error("Error updating status:",ct)}},b=async F=>{if(window.confirm("Delete this record?"))try{await Yv(xr(Hi,"debts",F))}catch($){console.error("Error deleting:",$)}},x=r.filter(F=>F.type==="debtor"),O=r.filter(F=>F.type==="creditor"),Y=x.filter(F=>!F.isPaid).reduce((F,$)=>F+$.amount,0),W=O.filter(F=>!F.isPaid).reduce((F,$)=>F+$.amount,0);return A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in slide-in-from-bottom-6 duration-700",children:[A.jsxs("div",{className:"p-5 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-xl",children:A.jsx($x,{size:20})}),A.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Debt Tracking"})]}),A.jsxs("button",{onClick:()=>h(!o),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-xl transition-all shadow-md shadow-indigo-200",children:[A.jsx(Kx,{size:16}),A.jsx("span",{className:"hidden sm:inline",children:o?"Cancel":"New Record"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 divide-x divide-gray-100 border-b border-gray-100",children:[A.jsxs("div",{className:"p-4 bg-emerald-50/30",children:[A.jsxs("p",{className:"text-sm font-semibold text-emerald-700 flex items-center gap-1",children:[A.jsx($v,{size:14})," Total Owed To Me"]}),A.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:Y.toLocaleString("en-US",{style:"currency",currency:"UGX"})})]}),A.jsxs("div",{className:"p-4 bg-rose-50/30",children:[A.jsxs("p",{className:"text-sm font-semibold text-rose-700 flex items-center gap-1",children:[A.jsx(WS,{size:14})," Total I Owe"]}),A.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:W.toLocaleString("en-US",{style:"currency",currency:"UGX"})})]})]}),o&&A.jsx("div",{className:"p-5 bg-gray-50 border-b border-gray-200",children:A.jsxs("form",{onSubmit:v,className:"space-y-4 max-w-2xl",children:[A.jsxs("div",{className:"flex gap-2 p-1 bg-white rounded-xl border border-gray-200 w-fit",children:[A.jsx("button",{type:"button",onClick:()=>p({...d,type:"debtor"}),className:`px-4 py-2 text-sm font-bold rounded-lg transition-all ${d.type==="debtor"?"bg-emerald-100 text-emerald-800":"text-gray-500 hover:bg-gray-50"}`,children:"They owe me (Debtor)"}),A.jsx("button",{type:"button",onClick:()=>p({...d,type:"creditor"}),className:`px-4 py-2 text-sm font-bold rounded-lg transition-all ${d.type==="creditor"?"bg-rose-100 text-rose-800":"text-gray-500 hover:bg-gray-50"}`,children:"I owe them (Creditor)"})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Name"}),A.jsx("input",{type:"text",value:d.name,onChange:F=>p({...d,name:F.target.value}),placeholder:"e.g. John Doe",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Amount (UGX)"}),A.jsx("input",{type:"number",value:d.amount,onChange:F=>p({...d,amount:F.target.value}),placeholder:"0",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Due Date"}),A.jsx("input",{type:"date",value:d.dueDate,onChange:F=>p({...d,dueDate:F.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Note (Optional)"}),A.jsx("input",{type:"text",value:d.note,onChange:F=>p({...d,note:F.target.value}),placeholder:"Reason for debt",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm"})]})]}),A.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-900 text-white font-bold rounded-xl hover:bg-black transition-colors text-sm",children:"Save Record"})]})}),A.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0&&!i?A.jsx("div",{className:"p-8 text-center text-gray-400 text-sm font-medium",children:"No debt records found."}):A.jsx("div",{className:"divide-y divide-gray-50",children:r.map(F=>A.jsxs("div",{className:`p-4 flex items-center justify-between group transition-colors ${F.isPaid?"bg-gray-50 opacity-60":"hover:bg-gray-50/50"}`,children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>_(F.id,F.isPaid),className:`p-1 rounded-full border-2 transition-colors ${F.isPaid?"border-emerald-500 bg-emerald-50 text-emerald-500":"border-gray-300 text-transparent hover:border-gray-400"}`,title:F.isPaid?"Mark as unpaid":"Mark as paid",children:A.jsx(gx,{size:20})}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-md ${F.type==="debtor"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:F.type==="debtor"?"Owes Me":"I Owe"}),A.jsx("span",{className:`font-bold text-gray-800 ${F.isPaid?"line-through text-gray-500":""}`,children:F.name})]}),A.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[F.dueDate&&A.jsxs("span",{className:"text-amber-600 font-medium",children:["Due: ",F.dueDate]}),F.dueDate&&F.note&&A.jsx("span",{children:""}),F.note&&A.jsx("span",{children:F.note})]})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:`font-mono font-bold ${F.type==="debtor"?"text-emerald-600":"text-rose-600"} ${F.isPaid?"text-gray-400":""}`,children:F.amount.toLocaleString("en-US",{style:"currency",currency:"UGX"})}),A.jsx("button",{onClick:()=>b(F.id),className:"text-gray-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:A.jsx(n1,{size:16})})]})]},F.id))})})]})},dw=({onActionClick:r})=>{const e=[{label:"Morning Coffee",icon:vx,color:"text-amber-600",bg:"bg-amber-100",hover:"hover:bg-amber-50 group-hover:border-amber-200",template:{type:"expense",amount:"5000",category:"Food & Dining",method:"Mobile Money",note:"Morning Coffee"}},{label:"Transport (Taxi)",icon:sx,color:"text-blue-600",bg:"bg-blue-100",hover:"hover:bg-blue-50 group-hover:border-blue-200",template:{type:"expense",amount:"10000",category:"Transportation",method:"Cash",note:"Taxi to Town"}},{label:"Groceries",icon:Bx,color:"text-emerald-600",bg:"bg-emerald-100",hover:"hover:bg-emerald-50 group-hover:border-emerald-200",template:{type:"expense",amount:"30000",category:"Groceries",method:"Mobile Money",note:"Quick Grocery Run"}},{label:"Client Payment",icon:yx,color:"text-indigo-600",bg:"bg-indigo-100",hover:"hover:bg-indigo-50 group-hover:border-indigo-200",template:{type:"income",amount:"100000",category:"Salary / Wages",method:"Bank",note:"Client Payment"}},{label:"Withdraw Cash",icon:Lc,color:"text-purple-600",bg:"bg-purple-100",hover:"hover:bg-purple-50 group-hover:border-purple-200",template:{type:"expense",amount:"50000",category:"Other",method:"Bank",note:"ATM Withdrawal (Update Cash manually)"}}],i=s=>{r(s)};return A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6 animate-in fade-in slide-in-from-bottom-5 duration-600",children:[A.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2 bg-gray-50/50",children:[A.jsx(iw,{size:18,className:"text-amber-500 fill-amber-500"}),A.jsx("h3",{className:"font-bold text-gray-800 text-sm tracking-tight",children:"Quick Actions (Auto-fill Form)"})]}),A.jsx("div",{className:"p-4 overflow-x-auto",children:A.jsx("div",{className:"flex gap-3 min-w-max",children:e.map((s,o)=>{const h=s.icon;return A.jsxs("button",{onClick:()=>i(s.template),className:`group flex items-center gap-3 px-4 py-3 rounded-xl border border-gray-100 bg-white shadow-sm transition-all active:scale-95 ${s.hover}`,children:[A.jsx("div",{className:`p-2 rounded-lg ${s.bg} ${s.color}`,children:A.jsx(h,{size:18})}),A.jsxs("div",{className:"text-left",children:[A.jsx("p",{className:"text-sm font-bold text-gray-800",children:s.label}),A.jsxs("p",{className:"text-xs font-semibold text-gray-500",children:[Number(s.template.amount).toLocaleString("en-US")," UGX  ",s.template.method]})]})]},o)})})})]})};function mw(){const[r,e]=kt.useState([]),[i,s]=kt.useState(!0),[o,h]=kt.useState(!1),[d,p]=kt.useState({username:"admin",password:"password123"}),[v,_]=kt.useState(!1),[b,x]=kt.useState("all"),[O,Y]=kt.useState(null);kt.useEffect(()=>{(async()=>{try{const S=xr(Hi,"config","admin"),w=await FS(S);if(w.exists())p(w.data());else{const M={username:"admin",password:"password123"};await Z0(S,M),p(M)}}catch(S){console.error("Error fetching config:",S)}})();const pt=Hv(_c(Hi,"transactions"),Gv("createdAt","desc")),C=Xv(pt,S=>{const w=S.docs.map(M=>({id:M.id,...M.data()}));e(w),s(!1)},S=>{console.error("Error fetching transactions:",S),s(!1)});return()=>C()},[]);const W=(ot,pt)=>ot===d.username&&pt===d.password?(h(!0),!0):!1,F=()=>{h(!1)},$=async ot=>{try{const pt=xr(Hi,"config","admin"),C={...d,username:ot.username,password:ot.password||d.password,seedCash:ot.seedCash||0,seedBank:ot.seedBank||0,seedMobile:ot.seedMobile||0};await Z0(pt,C),p(C)}catch(pt){throw console.error("Error updating config:",pt),pt}},ct=kt.useMemo(()=>{if(b==="all")return r;const ot=new Date,pt=new Date(ot.getFullYear(),ot.getMonth(),ot.getDate()).getTime(),C=new Date(ot.setDate(ot.getDate()-ot.getDay())).getTime(),S=new Date(ot.getFullYear(),ot.getMonth(),1).getTime(),w=new Date(ot.getFullYear(),0,1).getTime();return r.filter(M=>{if(!M.date)return!1;const D=new Date(M.date).getTime();return b==="daily"?D>=pt:b==="weekly"?D>=C:b==="monthly"?D>=S:b==="yearly"?D>=w:!0})},[r,b]),dt=kt.useMemo(()=>{let ot=0,pt=0,C=0,S=0,w=0,M=0,D=0,j=0;ct.forEach(V=>{const Q=Number(V.amount);V.type==="income"?(ot+=Q,V.method==="Cash"&&(C+=Q),V.method==="Bank"&&(w+=Q),V.method==="Mobile Money"&&(D+=Q)):(pt+=Q,V.method==="Cash"&&(S+=Q),V.method==="Bank"&&(M+=Q),V.method==="Mobile Money"&&(j+=Q))});const R=d.seedCash||0,te=d.seedBank||0,fe=d.seedMobile||0,H=R+C-S,et=te+w-M,ut=fe+D-j,Nt=H+et+ut,Pt=Math.max(0,Nt)*.1;return{income:ot,expenses:pt,balance:Nt,tithe:Pt,cash:H,bank:et,mobile:ut}},[ct,d]),gt=async ot=>{try{await Kv(_c(Hi,"transactions"),{...ot,createdAt:Ad()})}catch(pt){console.error("Error adding document: ",pt),alert("Failed to save transaction.")}},vt=async ot=>{if(window.confirm("Are you sure you want to delete this transaction?"))try{await Yv(xr(Hi,"transactions",ot))}catch(pt){console.error("Error deleting document: ",pt)}};return i?A.jsxs("div",{className:"min-h-screen bg-[#f8fafc] flex flex-col items-center justify-center space-y-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 bg-teal-200 rounded-full animate-ping opacity-75"}),A.jsx("div",{className:"relative bg-white p-4 rounded-full shadow-lg border border-teal-50",children:A.jsx(ac,{size:48,className:"text-teal-600 animate-pulse"})})]}),A.jsx("p",{className:"text-teal-900 font-semibold tracking-wide",children:"Loading ProsperLedger..."})]}):o?A.jsxs("div",{className:"min-h-screen bg-[#f1f5f9] text-gray-800 font-sans selection:bg-teal-100 selection:text-teal-900 pb-12",children:[v&&A.jsx(hw,{currentUsername:d.username,onClose:()=>_(!1),onSave:$}),A.jsx("nav",{className:"bg-white p-4 border-b border-gray-200 sticky top-0 z-30 shadow-sm transition-all",children:A.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center px-1 sm:px-4",children:[A.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 group cursor-pointer",children:[A.jsx("div",{className:"p-2 sm:p-2.5 bg-gradient-to-br from-teal-50 to-emerald-100 rounded-xl shadow-inner group-hover:scale-105 transition-transform",children:A.jsx(ac,{className:"text-teal-700",size:24})}),A.jsxs("span",{className:"text-xl sm:text-2xl font-extrabold tracking-tight text-gray-900",children:["Prosper",A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-600 to-emerald-600",children:"Ledger"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsxs("button",{onClick:()=>_(!0),className:"p-2 sm:px-4 sm:py-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all flex items-center gap-2 font-semibold text-sm",children:[A.jsx(t1,{size:20}),A.jsx("span",{className:"hidden sm:inline",children:"Settings"})]}),A.jsxs("button",{onClick:F,className:"p-2 sm:px-4 sm:py-2 text-gray-600 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all flex items-center gap-2 font-semibold text-sm",children:[A.jsx(Ix,{size:20}),A.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),A.jsxs("main",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8 sm:space-y-10",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-2 flex flex-col sm:flex-row items-center justify-between gap-4 overflow-x-auto",children:[A.jsxs("div",{className:"flex items-center gap-2 px-3 shrink-0 text-gray-500 font-medium",children:[A.jsx(lx,{size:20}),A.jsx("span",{children:"Overview:"})]}),A.jsx("div",{className:"flex gap-1 overflow-x-auto w-full sm:w-auto pb-1 sm:pb-0",children:["all","daily","weekly","monthly","yearly"].map(ot=>A.jsx("button",{onClick:()=>x(ot),className:`px-4 py-2 rounded-xl text-sm font-bold capitalize whitespace-nowrap transition-all ${b===ot?"bg-gray-900 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:ot==="all"?"All Time":`This ${ot.replace("ly","")}`},ot))})]}),A.jsxs("section",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[A.jsx("h2",{className:"text-xl sm:text-2xl font-extrabold text-gray-900 mb-5 px-1 tracking-tight",children:"Financial Overview"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[A.jsx(_s,{title:"Total Income",amount:dt.income,icon:Sd,type:"income"}),A.jsx(_s,{title:"Total Expenses",amount:dt.expenses,icon:i1,type:"expense"}),A.jsx(_s,{title:"Net Balance",amount:dt.balance,icon:ac,type:"neutral",subtext:dt.balance<0?"You are running a deficit":"Total Cash Available",className:"sm:col-span-2 lg:col-span-1"}),A.jsx(_s,{title:"Tithe (10% of Net)",amount:dt.tithe,icon:ux,type:"tithe",subtext:"Calculated after expenses"})]})]}),A.jsxs("section",{className:"animate-in fade-in slide-in-from-bottom-6 duration-700",children:[A.jsx("h2",{className:"text-xl sm:text-2xl font-extrabold text-gray-900 mb-5 px-1 tracking-tight",children:"Account Balances"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[A.jsx(_s,{title:"Mobile Money",amount:dt.mobile,icon:e1,type:"mobile"}),A.jsx(_s,{title:"Bank Account",amount:dt.bank,icon:Lc,type:"bank"}),A.jsx(_s,{title:"Cash at Hand",amount:dt.cash,icon:Wv,type:"cash"})]})]}),A.jsx("section",{className:"animate-in fade-in slide-in-from-bottom-7 duration-800",children:A.jsx(fw,{})}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[A.jsxs("div",{className:"lg:col-span-4 lg:sticky lg:top-[120px] transition-all",children:[A.jsx(dw,{onActionClick:ot=>Y({...ot,_t:Date.now()})}),A.jsx(ow,{onAddTransaction:gt,initialData:O})]}),A.jsx("div",{className:"lg:col-span-8",children:A.jsx(uw,{transactions:ct,onDelete:vt})})]})]})]}):A.jsx(cw,{onLogin:W})}HE.createRoot(document.getElementById("root")).render(A.jsx(kt.StrictMode,{children:A.jsx(mw,{})}));
